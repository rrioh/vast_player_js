(()=>{"use strict";function e(e){let t=e.match(/(\d{2}):(\d{2}):(\d{2})/);if(!t||t.length<4||NaN===parseInt(t[1])||NaN===parseInt(t[2])||NaN===parseInt(t[3]))throw new Error("convertdurationToSecond error: "+e);return 60*parseInt(t[1])*60+60*parseInt(t[2])+parseFloat(t[3])}function t(e,t,n){if(!t)return;new Date;let r=document.createElement("img");n(t,null),r.src=t,r.style.display="none",e.prepend(r),console.log("[DEBUG] beacon sent: "+t)}function n(e,t){if(e)for(let n of e){let e=document.createElement("img");e.src=n.replace(/\[ERRORCODE\]/,t.toString()),e.style.display="none",document.body.prepend(e),console.log("[DEBUG] error beacon sent: "+n)}}var r;!function(e){e[e.XMLParseError=100]="XMLParseError",e[e.VASTSchemaValidationError=101]="VASTSchemaValidationError",e[e.VASTVersionOfResponseNotSupported=102]="VASTVersionOfResponseNotSupported",e[e.NonPlayableAdType=200]="NonPlayableAdType",e[e.MediaPlayerExpectingDifferentLinearity=201]="MediaPlayerExpectingDifferentLinearity",e[e.MediaPlayerExpectingDifferentDuration=202]="MediaPlayerExpectingDifferentDuration",e[e.MediaPlayerExpectingDifferentSize=203]="MediaPlayerExpectingDifferentSize",e[e.AdCategoryNotProvided=204]="AdCategoryNotProvided",e[e.InlineCategoryViolatesWrapperBlockedAdCategories=205]="InlineCategoryViolatesWrapperBlockedAdCategories",e[e.AdNotServed=206]="AdNotServed",e[e.GeneralWrapperError=300]="GeneralWrapperError",e[e.VASTURIUnavailableOrTimeout=301]="VASTURIUnavailableOrTimeout",e[e.WrapperLimitReached=302]="WrapperLimitReached",e[e.NoVASTResponseAfterWrapper=303]="NoVASTResponseAfterWrapper",e[e.AdUnitNotDisplayed=304]="AdUnitNotDisplayed",e[e.GeneralLinearError=400]="GeneralLinearError",e[e.FileNotFound=401]="FileNotFound",e[e.MediaFileURITimeout=402]="MediaFileURITimeout",e[e.SupportedMediaFileNotFound=403]="SupportedMediaFileNotFound",e[e.ProblemDisplayingMediaFile=405]="ProblemDisplayingMediaFile",e[e.MezzanineNotProvided=406]="MezzanineNotProvided",e[e.MezzanineDownloading=407]="MezzanineDownloading",e[e.ConditionalAdRejected=408]="ConditionalAdRejected",e[e.InteractiveUnitNotExecuted=409]="InteractiveUnitNotExecuted",e[e.VerificationUnitNotExecuted=410]="VerificationUnitNotExecuted",e[e.NotRequiredSpecificationOfMezzanine=411]="NotRequiredSpecificationOfMezzanine",e[e.GeneralNonLinearAdsError=500]="GeneralNonLinearAdsError",e[e.NonLinearAdNonDisplayable=501]="NonLinearAdNonDisplayable",e[e.UnableToFetchNonLinearResource=502]="UnableToFetchNonLinearResource",e[e.SupportedNonLinearResourceNotFound=503]="SupportedNonLinearResourceNotFound",e[e.GeneralCompanionAdsError=600]="GeneralCompanionAdsError",e[e.CompanionNonDisplayableByDimemsionError=601]="CompanionNonDisplayableByDimemsionError",e[e.RequiredCompanionNonDisplayable=602]="RequiredCompanionNonDisplayable",e[e.UnableToFetchNonCompanionResource=603]="UnableToFetchNonCompanionResource",e[e.SupportedCompanionResourceNotFound=604]="SupportedCompanionResourceNotFound",e[e.UndefinedError=900]="UndefinedError",e[e.GeneralVPAIDError=901]="GeneralVPAIDError",e[e.GeneralInteractiveCreativeFileError=902]="GeneralInteractiveCreativeFileError"}(r||(r={}));const i=new Map([["start",0],["firstQuartile",1/4],["midpoint",.5],["thirdQuartile",3/4],["complete",1]]),o=new class{errorUrls;constructor(){this.errorUrls=[]}parseVast(e){try{let t=this.parseVastXML(e);return this.createVastObject(t)}catch(e){return console.log("[ERROR] cannot create VASTObject: "+e),null}}parseVastXML(e){let t=(new DOMParser).parseFromString(e,"application/xml"),n=t.querySelector("parsererror");if(n)throw new Error(n.textContent||"parse vast error");let r=t.querySelector("VAST");if(!r)throw new Error("VAST tag not found");return r}createVastObject(t){const i=t.querySelector(":scope>Error");i&&i.textContent&&this.errorUrls.push(i.textContent);const o=t.querySelector(":scope>Ad>InLine");if(!o)throw n(this.errorUrls,r.NoVASTResponseAfterWrapper),new Error("parse InLine error");const a=o.querySelector(":scope>Error");a&&a.textContent&&this.errorUrls.push(a.textContent);const s=o.querySelector(":scope>Impression");if(!s||!s.textContent)throw n(this.errorUrls,r.XMLParseError),new Error("parse InLine Impression error");const c=s.textContent,l=o.querySelector(":scope>AdTitle");if(!l||!l.textContent)throw n(this.errorUrls,r.XMLParseError),new Error("parse InLine AdTitle error");const d=l.textContent;let p=null;const u=o.querySelector(":scope>Description");u&&u.textContent&&(p=u.textContent);const h=o.querySelector(":scope>Creatives>Creative>Linear");if(!h)throw n(this.errorUrls,r.XMLParseError),new Error("parse InLine Linear error");const m=h.querySelector(":scope>Duration");if(!m||!m.textContent)throw n(this.errorUrls,r.XMLParseError),new Error("parse InLine Linear Duration error");const T=e(m.textContent),g=h.querySelectorAll(":scope>TrackingEvents>Tracking"),f=this.createTrackingObject(g,T),A=h.querySelectorAll(":scope>Icons>Icon"),E=this.createIconObject(A),C=h.querySelectorAll(":scope>MediaFiles>MediaFile");if(!C)throw n(this.errorUrls,r.XMLParseError),new Error("parse MediaFiles error");const y=C[0]?.textContent,v=h.querySelector(":scope>VideoClicks");let x=null,k=[];if(v){const e=v.querySelector(":scope>ClickThrough");if(!e||!e.textContent)throw n(this.errorUrls,r.XMLParseError),new Error("parse InLine Linear ClickThrough error");x=e.textContent;const t=v.querySelectorAll(":scope>ClickTracking");for(let e of t)e.textContent&&k.push(e.textContent)}return{errorUrls:this.errorUrls,impressionUrls:[c],adTitle:d,adDesc:p,trackings:f,icons:E,mediaFileUrl:y,clickThroughUrl:x,clickTrackingUrls:k}}createTrackingObject(t,n){const r=new Map;return t.forEach((function(t){if(!t.textContent)return;const o=t.getAttribute("event");if(o)if("progress"===o){const n=t.getAttribute("offset");if(!n)return;const i=e(n);r.set(i,t.textContent)}else{const e=i.get(o);null!=e?r.set(e*n,t.textContent):r.set(o,t.textContent)}})),r}createIconObject(t){let n=[];for(let r of t){let t=r,i=parseInt(t.getAttribute("width")||"10")||10,o=parseInt(t.getAttribute("height")||"10")||10,a="0px",s=t.getAttribute("xPosition");s&&(a="left"===s||"right"===s?s:s+"px");let c="0px",l=t.getAttribute("yPosition");l&&(c="top"===l||"bottom"===l?l:l+"px");let d=t.getAttribute("offset"),p=0;d&&(p=e(d));let u=t.getAttribute("duration"),h=null;u&&(h=e(u)+p);const m=t.querySelector(":scope>StaticResource");if(!m||!m.textContent)continue;const T=t.querySelector(":scope>IconClicks>IconClickThrough"),g=t.querySelector(":scope>IconClicks>IconClickTracking");n.push({width:i,height:o,xPosition:a,yPosition:c,start:p,end:h,imgUrl:m.textContent,clickThroughUrl:T?.textContent??null,clickTrackingUrl:g?.textContent??null})}return n}},a=new class{startPlayer(e){console.log("setPlayer started...");const n=o.parseVast('\n<VAST version="4.2">\n  <Error>\n    <![CDATA[http://test.example/error?code=[ERRORCODE]&clientTime=[TIMESTAMP]]]>\n  </Error>\n  <Ad id="1b330e59-3a62-4000-b9fb-ac9726e98c52" sequence="1">\n    <InLine>\n      <AdSystem version="2.0">nend</AdSystem>\n      <AdTitle><![CDATA[スマートフォンアドネットワーク「nend」]]></AdTitle>\n      <Description><![CDATA[静止画バナーから動画リワード/動画インターステイシャル/動画ネイティブに対応しています]]></Description>\n      <Advertiser><![CDATA[株式会社ファンコミュニケーションズ]]></Advertiser>\n      <Error><![CDATA[https://inline.test.example/error?code=[ERRORCODE]&clientTime=[TIMESTAMP]]]></Error>\n      <Impression id="nend"><![CDATA[https://inline.test.example/impression?clientTime=[TIMESTAMP]]]></Impression>\n      <Creatives>\n        <Creative adId="7245" sequence="1">\n          <Linear>\n            <Duration>00:00:15</Duration>\n            <MediaFiles>\n              <MediaFile delivery="progressive" type="video/mp4" width="1920" height="1080"><![CDATA[https://static-image-hmr.s3.ap-northeast-1.amazonaws.com/exmo.mp4]]></MediaFile>\n            </MediaFiles>\n            <VideoClicks>\n              <ClickThrough><![CDATA[https://mt.united.jp?is=test]]></ClickThrough>\n              <ClickTracking><![CDATA[https://inline.test.example/videoclicktracking?clientTime=[TIMESTAMP]]]></ClickTracking>\n            </VideoClicks>\n            <Icons>\n              <Icon program="nend" width="10" height="10" xPosition="right" yPosition="top" offset="00:00:05" duration="00:00:06">\n                <StaticResource creativeType="image/png"><![CDATA[https://static-image-hmr.s3.ap-northeast-1.amazonaws.com/i.png]]></StaticResource>\n                <IconClicks>\n                  <IconClickThrough><![CDATA[https://ja.ad-stir.com/sp/optout.html]]></IconClickThrough>\n                </IconClicks>\n              </Icon>\n            </Icons>\n            <TrackingEvents>\n              <Tracking event="pause"><![CDATA[https://inline.test.example/pause?clientTime=[TIMESTAMP]]]></Tracking>\n              <Tracking event="skip"><![CDATA[https://inline.test.example/skip?clientTime=[TIMESTAMP]]]></Tracking>\n              <Tracking event="start"><![CDATA[https://inline.test.example/start?clientTime=[TIMESTAMP]]]></Tracking>\n              <Tracking event="firstQuartile"><![CDATA[https://inline.test.example/firstQuartile?clientTime=[TIMESTAMP]]]></Tracking>\n              <Tracking event="midpoint"><![CDATA[https://inline.test.example/midpoint?clientTime=[TIMESTAMP]]]></Tracking>\n              <Tracking event="thirdQuartile"><![CDATA[https://inline.test.example/thirdQuartile?clientTime=[TIMESTAMP]]]></Tracking>\n              <Tracking event="complete"><![CDATA[https://inline.test.example/complete?clientTime=[TIMESTAMP]]]></Tracking>\n              <Tracking event="complete"><![CDATA[https://inline.test.example/complete2?clientTime=[TIMESTAMP]]]></Tracking>\n            </TrackingEvents>\n          </Linear>\n        </Creative>\n      </Creatives>\n    </InLine>\n  </Ad>\n</VAST>\n');if(!n)return;let r=document.createElement("iframe");r.width="300px",r.height="250px",r.style.border="none",document.getElementById("playerbox")?.appendChild(r);let i=r.contentWindow.document;i.open(),i.write('\n<!DOCTYPE html>\n<html>\n    <head>\n    </head>\n    <body style="margin:0;">\n        <div id="vast_video_container">\n            <div id="vast_video" style="width:300px;height:168.75px;"></div>\n            <div id="progress_bar" style="width:50%;height:3px;background-color:gray;"></div>\n            <div id="ad_text" style="margin:0;width:300px;height:78.25px;background-color:#dcdcdc;">\n                <div id="ad_title" style="font-size:15px;font-weight:bold;"></div>\n                <div id="ad_desc" style="font-size:10px;"></div>\n            </div>\n        </div>\n    </body>\n</html>\n'),i.close(),i.documentElement.style.overflow="hidden",i.getElementById("ad_title").textContent=n.adTitle;let a=i.getElementById("ad_desc");n.adDesc&&(a.textContent=n.adDesc);let s=i.getElementById("vast_video"),c=document.createElement("video");c.src=n.mediaFileUrl,c.style.width="100%",c.style.height="100%",c.muted=!0,c.autoplay=!0,c.addEventListener("loadedmetadata",(function(e){let t=i.getElementById("progress_bar"),n=function(){let e=c.currentTime/c.duration*100;t.style.width=e+"%",requestAnimationFrame(n)};requestAnimationFrame(n)}));const l=function(e){let t=new Map,n=new Date;t.set("[TIMESTAMP]",n.toISOString());const r={ratio:0};return new IntersectionObserver((function(e){e.forEach((function(e){const t=Math.floor(100*e.intersectionRatio)/100;r.ratio=t}))}),{rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(e),t.set("[INVIEW_RATIO]",function(e){return()=>e.ratio.toFixed(2)}(r)),(e,n)=>{n&&t.set("[ERRORCODE]",n.toString()),t.forEach(((t,n)=>{e=e.replace(n,"function"==typeof t?t():t)}))}}(s);(function(e,n,r){!function(e,n,r){for(let i of n)e.addEventListener("canplay",(function(n){t(e,i,r)}),{once:!0})}(e,n.impressionUrls,r),function(e,t){t&&e.addEventListener("click",(function(e){open(t,"_blank")}))}(e,n.clickThroughUrl),function(e,n,r){for(let i of n)e.addEventListener("click",(function(n){t(e,i,r)}))}(e,n.clickTrackingUrls,r),function(e,n,r){e.addEventListener("loadedmetadata",(function(i){for(let[i,o]of n.trackings)"loaded"==i?e.addEventListener("canplay",(function(n){t(e,o,r)}),{once:!0}):"pause"===i?e.addEventListener("pause",(function(n){t(e,o,r)})):"number"==typeof i&&e.addEventListener("timeupdate",(function n(a){e.currentTime>=i&&(t(e,o,r),e.removeEventListener("timeupdate",n))}))}))}(e,n,r)})(c,n,l),function(e,n,r,i){for(let o of r.icons){let r=document.createElement("img");r.src=o.imgUrl,r.width=o.width,r.height=o.height,r.style.position="fixed","left"===o.xPosition?r.style.left="0px":"right"===o.xPosition?r.style.right="0px":r.style.left=o.xPosition,"top"===o.yPosition?r.style.top="0px":"bottom"===o.yPosition?r.style.bottom="0px":r.style.top=o.yPosition,r.addEventListener("click",(function(n){o.clickTrackingUrl&&t(e,o.clickTrackingUrl,i),o.clickThroughUrl&&open(o.clickThroughUrl,"_blank")})),e.addEventListener("timeupdate",(function t(i){!n.contains(r)&&e.currentTime>=o.start&&n.appendChild(r),o.end&&n.contains(r)&&e.currentTime>=o.end&&(n.removeChild(r),e.removeEventListener("timeupdate",t))})),o.end||e.addEventListener("ended",(function(e){n.contains(r)&&n.removeChild(r)}))}}(c,s,n,l),new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?c.play():c.pause()}))}),{rootMargin:"0px",threshold:.5}).observe(c),s.appendChild(c)}};window.vastExecutor=window.vastExecutor||a})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixnQkFBaUIsYUFHdENrRCxFQUFNRyxpQkFBaUIsY0FBYyxTQUFTeUMsRUFBYy9ILElBQ25Ed0gsRUFBV1EsU0FBUzVFLElBQVMrQixFQUFNTyxhQUFlK0IsRUFBUTdELE9BQzNENEQsRUFBVy9DLFlBQVlyQixHQUV2QnFFLEVBQVE1RCxLQUFPMkQsRUFBV1EsU0FBUzVFLElBQVMrQixFQUFNTyxhQUFlK0IsRUFBUTVELE1BQ3pFMkQsRUFBV1MsWUFBWTdFLEdBQ3ZCK0IsRUFBTW1DLG9CQUFvQixhQUFjUyxPQUkzQ04sRUFBUTVELEtBQ1RzQixFQUFNRyxpQkFBaUIsU0FBUyxTQUFVdEYsR0FDbEN3SCxFQUFXUSxTQUFTNUUsSUFDcEJvRSxFQUFXUyxZQUFZN0UsT0QrRG5DLENBQWErQixFQUFPRCxFQUFjYixFQUFZbEcsR0FpQjdCLElBQUkrSCxzQkFWckIsU0FBa0JDLEdBQ2RBLEVBQVF6RCxTQUFRLFNBQVUwRCxHQUNsQkEsRUFBTThCLGVBQ04vQyxFQUFNZ0QsT0FHTmhELEVBQU1pRCxhQVZGLENBQ1o1QixXQUFZLE1BQ1pDLFVBQVcsS0FhTkMsUUFBUXZCLEdBQ2pCRCxFQUFhVCxZQUFZVSxLQUlqQ2tELE9BQU9sRSxhQUFla0UsT0FBT2xFLGNBQWdCQSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmFzdF9wbGF5ZXJfanMvLi9saWIvdXRpbC50cyIsIndlYnBhY2s6Ly92YXN0X3BsYXllcl9qcy8uL2xpYi9iZWFjb24udHMiLCJ3ZWJwYWNrOi8vdmFzdF9wbGF5ZXJfanMvLi9saWIvbWFjcm8udHMiLCJ3ZWJwYWNrOi8vdmFzdF9wbGF5ZXJfanMvLi9saWIvdmFzdC50cyIsIndlYnBhY2s6Ly92YXN0X3BsYXllcl9qcy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovL3Zhc3RfcGxheWVyX2pzLy4vbGliL2ljb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUaW1lVG9TZWNvbmQoZHVyYXRpb25TdHIpIHtcbiAgICBsZXQgcmVzdWx0ID0gZHVyYXRpb25TdHIubWF0Y2goLyhcXGR7Mn0pOihcXGR7Mn0pOihcXGR7Mn0pLyk7XG4gICAgaWYgKCFyZXN1bHQgfHwgcmVzdWx0Lmxlbmd0aCA8IDQgfHwgcGFyc2VJbnQocmVzdWx0WzFdKSA9PT0gTmFOIHx8IHBhcnNlSW50KHJlc3VsdFsyXSkgPT09IE5hTiB8fCBwYXJzZUludChyZXN1bHRbM10pID09PSBOYU4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29udmVydGR1cmF0aW9uVG9TZWNvbmQgZXJyb3I6IFwiICsgZHVyYXRpb25TdHIpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQocmVzdWx0WzFdKSAqIDYwICogNjAgKyBwYXJzZUludChyZXN1bHRbMl0pICogNjAgKyBwYXJzZUZsb2F0KHJlc3VsdFszXSk7XG59XG4iLCJmdW5jdGlvbiBzZXRJbXByZXNzaW9uVXJsKHZpZGVvLCB1cmxzLCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgZm9yIChsZXQgdXJsIG9mIHVybHMpIHtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNyZWF0ZUJlYWNvbih2aWRlbywgdXJsLCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldFZpZGVvQ2xpY2tUaHJvdWdoVXJsKHZpZGVvLCB1cmwpIHtcbiAgICBpZiAoIXVybClcbiAgICAgICAgcmV0dXJuO1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBvcGVuKHVybCwgXCJfYmxhbmtcIik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXRWaWRlb0NsaWNrVHJhY2tpbmdVcmxzKHZpZGVvLCB1cmxzLCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgZm9yIChsZXQgdXJsIG9mIHVybHMpIHtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjcmVhdGVCZWFjb24odmlkZW8sIHVybCwgbWFjcm9SZXBsYWNlcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldFRyYWNraW5nVXJscyh2aWRlbywgdmFzdE9iamVjdCwgbWFjcm9SZXBsYWNlcikge1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBmb3IgKGxldCBbcG9pbnQsIHVybF0gb2YgdmFzdE9iamVjdC50cmFja2luZ3MpIHtcbiAgICAgICAgICAgIGlmIChwb2ludCA9PSBcImxvYWRlZFwiKSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmVhY29uKHZpZGVvLCB1cmwsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBvaW50ID09PSBcInBhdXNlXCIpIHtcbiAgICAgICAgICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmVhY29uKHZpZGVvLCB1cmwsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHBvaW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgZnVuY3Rpb24gdGltZUJlYWNvbkV2ZW50KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvLmN1cnJlbnRUaW1lID49IHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVCZWFjb24odmlkZW8sIHVybCwgbWFjcm9SZXBsYWNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCB0aW1lQmVhY29uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCZWFjb24ocGFyZW50LCB1cmwsIG1hY3JvUmVwbGFjZXIpIHtcbiAgICBpZiAoIXVybClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBsZXQgZWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBtYWNyb1JlcGxhY2VyKHVybCwgbnVsbCk7XG4gICAgZWxlLnNyYyA9IHVybDtcbiAgICBlbGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHBhcmVudC5wcmVwZW5kKGVsZSk7XG4gICAgY29uc29sZS5sb2coXCJbREVCVUddIGJlYWNvbiBzZW50OiBcIiArIHVybCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VuZEVycm9yKHVybHMsIGVycm9yQ29kZSkge1xuICAgIGlmICghdXJscylcbiAgICAgICAgcmV0dXJuO1xuICAgIGZvciAobGV0IHVybCBvZiB1cmxzKSB7XG4gICAgICAgIGxldCBlbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBlbGUuc3JjID0gdXJsLnJlcGxhY2UoL1xcW0VSUk9SQ09ERVxcXS8sIGVycm9yQ29kZS50b1N0cmluZygpKTtcbiAgICAgICAgZWxlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKGVsZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0RFQlVHXSBlcnJvciBiZWFjb24gc2VudDogXCIgKyB1cmwpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRCZWFjb25zKHZpZGVvLCB2YXN0T2JqZWN0LCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgc2V0SW1wcmVzc2lvblVybCh2aWRlbywgdmFzdE9iamVjdC5pbXByZXNzaW9uVXJscywgbWFjcm9SZXBsYWNlcik7XG4gICAgc2V0VmlkZW9DbGlja1Rocm91Z2hVcmwodmlkZW8sIHZhc3RPYmplY3QuY2xpY2tUaHJvdWdoVXJsKTtcbiAgICBzZXRWaWRlb0NsaWNrVHJhY2tpbmdVcmxzKHZpZGVvLCB2YXN0T2JqZWN0LmNsaWNrVHJhY2tpbmdVcmxzLCBtYWNyb1JlcGxhY2VyKTtcbiAgICBzZXRUcmFja2luZ1VybHModmlkZW8sIHZhc3RPYmplY3QsIG1hY3JvUmVwbGFjZXIpO1xufVxuIiwiZXhwb3J0IHZhciBFcnJvckNvZGU7XG4oZnVuY3Rpb24gKEVycm9yQ29kZSkge1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJYTUxQYXJzZUVycm9yXCJdID0gMTAwXSA9IFwiWE1MUGFyc2VFcnJvclwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJWQVNUU2NoZW1hVmFsaWRhdGlvbkVycm9yXCJdID0gMTAxXSA9IFwiVkFTVFNjaGVtYVZhbGlkYXRpb25FcnJvclwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJWQVNUVmVyc2lvbk9mUmVzcG9uc2VOb3RTdXBwb3J0ZWRcIl0gPSAxMDJdID0gXCJWQVNUVmVyc2lvbk9mUmVzcG9uc2VOb3RTdXBwb3J0ZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTm9uUGxheWFibGVBZFR5cGVcIl0gPSAyMDBdID0gXCJOb25QbGF5YWJsZUFkVHlwZVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJNZWRpYVBsYXllckV4cGVjdGluZ0RpZmZlcmVudExpbmVhcml0eVwiXSA9IDIwMV0gPSBcIk1lZGlhUGxheWVyRXhwZWN0aW5nRGlmZmVyZW50TGluZWFyaXR5XCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk1lZGlhUGxheWVyRXhwZWN0aW5nRGlmZmVyZW50RHVyYXRpb25cIl0gPSAyMDJdID0gXCJNZWRpYVBsYXllckV4cGVjdGluZ0RpZmZlcmVudER1cmF0aW9uXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk1lZGlhUGxheWVyRXhwZWN0aW5nRGlmZmVyZW50U2l6ZVwiXSA9IDIwM10gPSBcIk1lZGlhUGxheWVyRXhwZWN0aW5nRGlmZmVyZW50U2l6ZVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJBZENhdGVnb3J5Tm90UHJvdmlkZWRcIl0gPSAyMDRdID0gXCJBZENhdGVnb3J5Tm90UHJvdmlkZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiSW5saW5lQ2F0ZWdvcnlWaW9sYXRlc1dyYXBwZXJCbG9ja2VkQWRDYXRlZ29yaWVzXCJdID0gMjA1XSA9IFwiSW5saW5lQ2F0ZWdvcnlWaW9sYXRlc1dyYXBwZXJCbG9ja2VkQWRDYXRlZ29yaWVzXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkFkTm90U2VydmVkXCJdID0gMjA2XSA9IFwiQWROb3RTZXJ2ZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiR2VuZXJhbFdyYXBwZXJFcnJvclwiXSA9IDMwMF0gPSBcIkdlbmVyYWxXcmFwcGVyRXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVkFTVFVSSVVuYXZhaWxhYmxlT3JUaW1lb3V0XCJdID0gMzAxXSA9IFwiVkFTVFVSSVVuYXZhaWxhYmxlT3JUaW1lb3V0XCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIldyYXBwZXJMaW1pdFJlYWNoZWRcIl0gPSAzMDJdID0gXCJXcmFwcGVyTGltaXRSZWFjaGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk5vVkFTVFJlc3BvbnNlQWZ0ZXJXcmFwcGVyXCJdID0gMzAzXSA9IFwiTm9WQVNUUmVzcG9uc2VBZnRlcldyYXBwZXJcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiQWRVbml0Tm90RGlzcGxheWVkXCJdID0gMzA0XSA9IFwiQWRVbml0Tm90RGlzcGxheWVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkdlbmVyYWxMaW5lYXJFcnJvclwiXSA9IDQwMF0gPSBcIkdlbmVyYWxMaW5lYXJFcnJvclwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJGaWxlTm90Rm91bmRcIl0gPSA0MDFdID0gXCJGaWxlTm90Rm91bmRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTWVkaWFGaWxlVVJJVGltZW91dFwiXSA9IDQwMl0gPSBcIk1lZGlhRmlsZVVSSVRpbWVvdXRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiU3VwcG9ydGVkTWVkaWFGaWxlTm90Rm91bmRcIl0gPSA0MDNdID0gXCJTdXBwb3J0ZWRNZWRpYUZpbGVOb3RGb3VuZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJQcm9ibGVtRGlzcGxheWluZ01lZGlhRmlsZVwiXSA9IDQwNV0gPSBcIlByb2JsZW1EaXNwbGF5aW5nTWVkaWFGaWxlXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk1lenphbmluZU5vdFByb3ZpZGVkXCJdID0gNDA2XSA9IFwiTWV6emFuaW5lTm90UHJvdmlkZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTWV6emFuaW5lRG93bmxvYWRpbmdcIl0gPSA0MDddID0gXCJNZXp6YW5pbmVEb3dubG9hZGluZ1wiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJDb25kaXRpb25hbEFkUmVqZWN0ZWRcIl0gPSA0MDhdID0gXCJDb25kaXRpb25hbEFkUmVqZWN0ZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiSW50ZXJhY3RpdmVVbml0Tm90RXhlY3V0ZWRcIl0gPSA0MDldID0gXCJJbnRlcmFjdGl2ZVVuaXROb3RFeGVjdXRlZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJWZXJpZmljYXRpb25Vbml0Tm90RXhlY3V0ZWRcIl0gPSA0MTBdID0gXCJWZXJpZmljYXRpb25Vbml0Tm90RXhlY3V0ZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTm90UmVxdWlyZWRTcGVjaWZpY2F0aW9uT2ZNZXp6YW5pbmVcIl0gPSA0MTFdID0gXCJOb3RSZXF1aXJlZFNwZWNpZmljYXRpb25PZk1lenphbmluZVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJHZW5lcmFsTm9uTGluZWFyQWRzRXJyb3JcIl0gPSA1MDBdID0gXCJHZW5lcmFsTm9uTGluZWFyQWRzRXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTm9uTGluZWFyQWROb25EaXNwbGF5YWJsZVwiXSA9IDUwMV0gPSBcIk5vbkxpbmVhckFkTm9uRGlzcGxheWFibGVcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVW5hYmxlVG9GZXRjaE5vbkxpbmVhclJlc291cmNlXCJdID0gNTAyXSA9IFwiVW5hYmxlVG9GZXRjaE5vbkxpbmVhclJlc291cmNlXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlN1cHBvcnRlZE5vbkxpbmVhclJlc291cmNlTm90Rm91bmRcIl0gPSA1MDNdID0gXCJTdXBwb3J0ZWROb25MaW5lYXJSZXNvdXJjZU5vdEZvdW5kXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkdlbmVyYWxDb21wYW5pb25BZHNFcnJvclwiXSA9IDYwMF0gPSBcIkdlbmVyYWxDb21wYW5pb25BZHNFcnJvclwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJDb21wYW5pb25Ob25EaXNwbGF5YWJsZUJ5RGltZW1zaW9uRXJyb3JcIl0gPSA2MDFdID0gXCJDb21wYW5pb25Ob25EaXNwbGF5YWJsZUJ5RGltZW1zaW9uRXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiUmVxdWlyZWRDb21wYW5pb25Ob25EaXNwbGF5YWJsZVwiXSA9IDYwMl0gPSBcIlJlcXVpcmVkQ29tcGFuaW9uTm9uRGlzcGxheWFibGVcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVW5hYmxlVG9GZXRjaE5vbkNvbXBhbmlvblJlc291cmNlXCJdID0gNjAzXSA9IFwiVW5hYmxlVG9GZXRjaE5vbkNvbXBhbmlvblJlc291cmNlXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlN1cHBvcnRlZENvbXBhbmlvblJlc291cmNlTm90Rm91bmRcIl0gPSA2MDRdID0gXCJTdXBwb3J0ZWRDb21wYW5pb25SZXNvdXJjZU5vdEZvdW5kXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlVuZGVmaW5lZEVycm9yXCJdID0gOTAwXSA9IFwiVW5kZWZpbmVkRXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiR2VuZXJhbFZQQUlERXJyb3JcIl0gPSA5MDFdID0gXCJHZW5lcmFsVlBBSURFcnJvclwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJHZW5lcmFsSW50ZXJhY3RpdmVDcmVhdGl2ZUZpbGVFcnJvclwiXSA9IDkwMl0gPSBcIkdlbmVyYWxJbnRlcmFjdGl2ZUNyZWF0aXZlRmlsZUVycm9yXCI7XG59KShFcnJvckNvZGUgfHwgKEVycm9yQ29kZSA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVwbGFjZXIodmlkZW9QYXJlbnQpIHtcbiAgICBsZXQgcmVwbGFjZU1hcCA9IG5ldyBNYXAoKTtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgcmVwbGFjZU1hcC5zZXQoJ1tUSU1FU1RBTVBdJywgZGF0ZS50b0lTT1N0cmluZygpKTtcbiAgICAvLyBpbnZpZXcgcmF0aW9cbiAgICBjb25zdCBpbnZpZXdSYXRpb01nciA9IHtcbiAgICAgICAgcmF0aW86IDBcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHJvb3RNYXJnaW46IFwiMHB4XCIsXG4gICAgICAgIHRocmVzaG9sZDogWzAsIDAuMSwgMC4yLCAwLjMsIDAuNCwgMC41LCAwLjYsIDAuNywgMC44LCAwLjksIDFdXG4gICAgfTtcbiAgICBmdW5jdGlvbiBjYWxsYmFjayhlbnRyaWVzKSB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhdGlvID0gTWF0aC5mbG9vcihlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyAqIDEwMCkgLyAxMDA7XG4gICAgICAgICAgICBpbnZpZXdSYXRpb01nci5yYXRpbyA9IHJhdGlvO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgIG9ic2VydmVyLm9ic2VydmUodmlkZW9QYXJlbnQpO1xuICAgIHJlcGxhY2VNYXAuc2V0KCdbSU5WSUVXX1JBVElPXScsIGdldEludmlld1JhdGlvKGludmlld1JhdGlvTWdyKSk7XG4gICAgcmV0dXJuICh0YXJnZXQsIGVycm9yQ29kZSkgPT4ge1xuICAgICAgICBpZiAoZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICByZXBsYWNlTWFwLnNldChcIltFUlJPUkNPREVdXCIsIGVycm9yQ29kZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5yZXBsYWNlKGtleSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZSgpIDogdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0SW52aWV3UmF0aW8oaW52aWV3UmF0aW9NZ3IpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZXR1cm4gaW52aWV3UmF0aW9NZ3IucmF0aW8udG9GaXhlZCgyKTtcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgY29udmVydFRpbWVUb1NlY29uZCB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IHNlbmRFcnJvciB9IGZyb20gXCIuL2JlYWNvblwiO1xuaW1wb3J0IHsgRXJyb3JDb2RlIH0gZnJvbSBcIi4vbWFjcm9cIjtcbmNvbnN0IFRSQUNLSU5HX0VWRU5UX1BPSU5UID0gbmV3IE1hcChbXG4gICAgW1wic3RhcnRcIiwgMF0sXG4gICAgW1wiZmlyc3RRdWFydGlsZVwiLCAxIC8gNF0sXG4gICAgW1wibWlkcG9pbnRcIiwgMSAvIDJdLFxuICAgIFtcInRoaXJkUXVhcnRpbGVcIiwgMyAvIDRdLFxuICAgIFtcImNvbXBsZXRlXCIsIDFdXG5dKTtcbmNsYXNzIFZhc3Qge1xuICAgIGVycm9yVXJscztcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lcnJvclVybHMgPSBbXTtcbiAgICB9XG4gICAgcGFyc2VWYXN0KHNvdXJjZVZhc3QpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCB2YXN0RWxlID0gdGhpcy5wYXJzZVZhc3RYTUwoc291cmNlVmFzdCk7XG4gICAgICAgICAgICBsZXQgdmFzdE9iamVjdCA9IHRoaXMuY3JlYXRlVmFzdE9iamVjdCh2YXN0RWxlKTtcbiAgICAgICAgICAgIHJldHVybiB2YXN0T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltFUlJPUl0gY2Fubm90IGNyZWF0ZSBWQVNUT2JqZWN0OiBcIiArIGUpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyc2VWYXN0WE1MKHNvdXJjZVZhc3QpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICBsZXQgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzb3VyY2VWYXN0LCBcImFwcGxpY2F0aW9uL3htbFwiKTtcbiAgICAgICAgbGV0IHBhcnNlckVycm9yID0geG1sRG9jLnF1ZXJ5U2VsZWN0b3IoXCJwYXJzZXJlcnJvclwiKTtcbiAgICAgICAgaWYgKHBhcnNlckVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocGFyc2VyRXJyb3IudGV4dENvbnRlbnQgfHwgXCJwYXJzZSB2YXN0IGVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YXN0RWxlID0geG1sRG9jLnF1ZXJ5U2VsZWN0b3IoXCJWQVNUXCIpO1xuICAgICAgICBpZiAoIXZhc3RFbGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZBU1QgdGFnIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFzdEVsZTtcbiAgICB9XG4gICAgY3JlYXRlVmFzdE9iamVjdCh2RWxlKSB7XG4gICAgICAgIGNvbnN0IHJvb3RFcnJvckVsZSA9IHZFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5FcnJvclwiKTtcbiAgICAgICAgaWYgKHJvb3RFcnJvckVsZSAmJiByb290RXJyb3JFbGUudGV4dENvbnRlbnQpXG4gICAgICAgICAgICB0aGlzLmVycm9yVXJscy5wdXNoKHJvb3RFcnJvckVsZS50ZXh0Q29udGVudCk7XG4gICAgICAgIGNvbnN0IGlubGluZUVsZSA9IHZFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5BZD5JbkxpbmVcIik7XG4gICAgICAgIGlmICghaW5saW5lRWxlKSB7XG4gICAgICAgICAgICBzZW5kRXJyb3IodGhpcy5lcnJvclVybHMsIEVycm9yQ29kZS5Ob1ZBU1RSZXNwb25zZUFmdGVyV3JhcHBlcik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBJbkxpbmUgZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJyb3JFbGUgPSBpbmxpbmVFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5FcnJvclwiKTtcbiAgICAgICAgaWYgKGVycm9yRWxlICYmIGVycm9yRWxlLnRleHRDb250ZW50KVxuICAgICAgICAgICAgdGhpcy5lcnJvclVybHMucHVzaChlcnJvckVsZS50ZXh0Q29udGVudCk7XG4gICAgICAgIGNvbnN0IGltcEVsZSA9IGlubGluZUVsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkltcHJlc3Npb25cIik7XG4gICAgICAgIGlmICghaW1wRWxlIHx8ICFpbXBFbGUudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIHNlbmRFcnJvcih0aGlzLmVycm9yVXJscywgRXJyb3JDb2RlLlhNTFBhcnNlRXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgSW5MaW5lIEltcHJlc3Npb24gZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1wcmVzc2lvblVybCA9IGltcEVsZS50ZXh0Q29udGVudDtcbiAgICAgICAgY29uc3QgYWRUaXRsZUVsZSA9IGlubGluZUVsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkFkVGl0bGVcIik7XG4gICAgICAgIGlmICghYWRUaXRsZUVsZSB8fCAhYWRUaXRsZUVsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgc2VuZEVycm9yKHRoaXMuZXJyb3JVcmxzLCBFcnJvckNvZGUuWE1MUGFyc2VFcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBJbkxpbmUgQWRUaXRsZSBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhZFRpdGxlID0gYWRUaXRsZUVsZS50ZXh0Q29udGVudDtcbiAgICAgICAgbGV0IGFkRGVzYyA9IG51bGw7XG4gICAgICAgIGNvbnN0IGFkRGVzY0VsZSA9IGlubGluZUVsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBpZiAoYWREZXNjRWxlICYmIGFkRGVzY0VsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgYWREZXNjID0gYWREZXNjRWxlLnRleHRDb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVhckVsZSA9IGlubGluZUVsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkNyZWF0aXZlcz5DcmVhdGl2ZT5MaW5lYXJcIik7XG4gICAgICAgIGlmICghbGluZWFyRWxlKSB7XG4gICAgICAgICAgICBzZW5kRXJyb3IodGhpcy5lcnJvclVybHMsIEVycm9yQ29kZS5YTUxQYXJzZUVycm9yKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInBhcnNlIEluTGluZSBMaW5lYXIgZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb25FbGUgPSBsaW5lYXJFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5EdXJhdGlvblwiKTtcbiAgICAgICAgaWYgKCFkdXJhdGlvbkVsZSB8fCAhZHVyYXRpb25FbGUudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIHNlbmRFcnJvcih0aGlzLmVycm9yVXJscywgRXJyb3JDb2RlLlhNTFBhcnNlRXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgSW5MaW5lIExpbmVhciBEdXJhdGlvbiBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGNvbnZlcnRUaW1lVG9TZWNvbmQoZHVyYXRpb25FbGUudGV4dENvbnRlbnQpO1xuICAgICAgICBjb25zdCB0cmFja2luZ3NFbGVzID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+VHJhY2tpbmdFdmVudHM+VHJhY2tpbmdcIik7XG4gICAgICAgIGNvbnN0IHRyYWNraW5nTWFwID0gdGhpcy5jcmVhdGVUcmFja2luZ09iamVjdCh0cmFja2luZ3NFbGVzLCBkdXJhdGlvbik7XG4gICAgICAgIGNvbnN0IGljb25FbGVzID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+SWNvbnM+SWNvblwiKTtcbiAgICAgICAgY29uc3QgaWNvbk9iamVjdHMgPSB0aGlzLmNyZWF0ZUljb25PYmplY3QoaWNvbkVsZXMpO1xuICAgICAgICBjb25zdCBtZWRpYUZpbGVFbGVzID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+TWVkaWFGaWxlcz5NZWRpYUZpbGVcIik7XG4gICAgICAgIGlmICghbWVkaWFGaWxlRWxlcykge1xuICAgICAgICAgICAgc2VuZEVycm9yKHRoaXMuZXJyb3JVcmxzLCBFcnJvckNvZGUuWE1MUGFyc2VFcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBNZWRpYUZpbGVzIGVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIOOBsuOBqOOBvuOBmjHjgaTnm67jga5NZWRpYUZpbGXjga5VUkzjga7jgb/lj5blvpdcbiAgICAgICAgY29uc3QgbWVkaWFGaWxlVXJsID0gbWVkaWFGaWxlRWxlc1swXT8udGV4dENvbnRlbnQ7XG4gICAgICAgIGNvbnN0IHZpZGVvQ2xpY2tzRWxlID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+VmlkZW9DbGlja3NcIik7XG4gICAgICAgIGxldCBjbGlja1Rocm91Z2hVcmwgPSBudWxsO1xuICAgICAgICBsZXQgY2xpY2tUcmFja2luZ1VybHMgPSBbXTtcbiAgICAgICAgaWYgKHZpZGVvQ2xpY2tzRWxlKSB7XG4gICAgICAgICAgICBjb25zdCBjbGlja1Rocm91Z2hFbGUgPSB2aWRlb0NsaWNrc0VsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkNsaWNrVGhyb3VnaFwiKTtcbiAgICAgICAgICAgIGlmICghY2xpY2tUaHJvdWdoRWxlIHx8ICFjbGlja1Rocm91Z2hFbGUudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBzZW5kRXJyb3IodGhpcy5lcnJvclVybHMsIEVycm9yQ29kZS5YTUxQYXJzZUVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBJbkxpbmUgTGluZWFyIENsaWNrVGhyb3VnaCBlcnJvclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsaWNrVGhyb3VnaFVybCA9IGNsaWNrVGhyb3VnaEVsZS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrVHJhY2tpbmdFbGVzID0gdmlkZW9DbGlja3NFbGUucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZT5DbGlja1RyYWNraW5nXCIpO1xuICAgICAgICAgICAgZm9yIChsZXQgY2xpY2tUcmFja2luZ0VsZSBvZiBjbGlja1RyYWNraW5nRWxlcykge1xuICAgICAgICAgICAgICAgIGlmIChjbGlja1RyYWNraW5nRWxlLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrVHJhY2tpbmdVcmxzLnB1c2goY2xpY2tUcmFja2luZ0VsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhc3RPYmplY3QgPSB7XG4gICAgICAgICAgICBlcnJvclVybHM6IHRoaXMuZXJyb3JVcmxzLFxuICAgICAgICAgICAgaW1wcmVzc2lvblVybHM6IFtpbXByZXNzaW9uVXJsXSxcbiAgICAgICAgICAgIGFkVGl0bGU6IGFkVGl0bGUsXG4gICAgICAgICAgICBhZERlc2M6IGFkRGVzYyxcbiAgICAgICAgICAgIHRyYWNraW5nczogdHJhY2tpbmdNYXAsXG4gICAgICAgICAgICBpY29uczogaWNvbk9iamVjdHMsXG4gICAgICAgICAgICBtZWRpYUZpbGVVcmw6IG1lZGlhRmlsZVVybCxcbiAgICAgICAgICAgIGNsaWNrVGhyb3VnaFVybDogY2xpY2tUaHJvdWdoVXJsLFxuICAgICAgICAgICAgY2xpY2tUcmFja2luZ1VybHM6IGNsaWNrVHJhY2tpbmdVcmxzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdmFzdE9iamVjdDtcbiAgICB9XG4gICAgY3JlYXRlVHJhY2tpbmdPYmplY3QodHJhY2tpbmdFbGVzLCBkdXJhdGlvbikge1xuICAgICAgICBjb25zdCB0cmFja2luZ01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdHJhY2tpbmdFbGVzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNraW5nKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nLnRleHRDb250ZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdHJhY2tpbmcuZ2V0QXR0cmlidXRlKFwiZXZlbnRcIik7XG4gICAgICAgICAgICBpZiAoIWV2ZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gXCJwcm9ncmVzc1wiKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdHJhY2tpbmcuZ2V0QXR0cmlidXRlKFwib2Zmc2V0XCIpO1xuICAgICAgICAgICAgICAgIGlmICghb2Zmc2V0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0U2Vjb25kID0gY29udmVydFRpbWVUb1NlY29uZChvZmZzZXQpO1xuICAgICAgICAgICAgICAgIHRyYWNraW5nTWFwLnNldChvZmZzZXRTZWNvbmQsIHRyYWNraW5nLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50X3BvaW50ID0gVFJBQ0tJTkdfRVZFTlRfUE9JTlQuZ2V0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRfcG9pbnQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nTWFwLnNldChldmVudF9wb2ludCAqIGR1cmF0aW9uLCB0cmFja2luZy50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ01hcC5zZXQoZXZlbnQsIHRyYWNraW5nLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJhY2tpbmdNYXA7XG4gICAgfVxuICAgIGNyZWF0ZUljb25PYmplY3QoaWNvbkVsZXMpIHtcbiAgICAgICAgbGV0IGljb25PYmplY3RzID0gW107XG4gICAgICAgIGZvciAobGV0IGljb24gb2YgaWNvbkVsZXMpIHtcbiAgICAgICAgICAgIGxldCBpY29uRWxlID0gaWNvbjtcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KGljb25FbGUuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikgfHwgXCIxMFwiKSB8fCAxMDtcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSBwYXJzZUludChpY29uRWxlLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSB8fCBcIjEwXCIpIHx8IDEwO1xuICAgICAgICAgICAgbGV0IHggPSBcIjBweFwiO1xuICAgICAgICAgICAgbGV0IHhQb3NpdGlvbiA9IGljb25FbGUuZ2V0QXR0cmlidXRlKFwieFBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgaWYgKHhQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICh4UG9zaXRpb24gPT09IFwibGVmdFwiIHx8IHhQb3NpdGlvbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4UG9zaXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB4ID0geFBvc2l0aW9uICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB5ID0gXCIwcHhcIjtcbiAgICAgICAgICAgIGxldCB5UG9zaXRpb24gPSBpY29uRWxlLmdldEF0dHJpYnV0ZShcInlQb3NpdGlvblwiKTtcbiAgICAgICAgICAgIGlmICh5UG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoeVBvc2l0aW9uID09PSBcInRvcFwiIHx8IHlQb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xuICAgICAgICAgICAgICAgICAgICB5ID0geVBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHlQb3NpdGlvbiArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gaWNvbkVsZS5nZXRBdHRyaWJ1dGUoXCJvZmZzZXRcIik7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICAgICAgaWYgKG9mZnNldClcbiAgICAgICAgICAgICAgICBzdGFydCA9IGNvbnZlcnRUaW1lVG9TZWNvbmQob2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGljb25FbGUuZ2V0QXR0cmlidXRlKFwiZHVyYXRpb25cIik7XG4gICAgICAgICAgICBsZXQgZW5kID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbilcbiAgICAgICAgICAgICAgICBlbmQgPSBjb252ZXJ0VGltZVRvU2Vjb25kKGR1cmF0aW9uKSArIHN0YXJ0O1xuICAgICAgICAgICAgY29uc3Qgc3RhdGljUmVzb3VyY2UgPSBpY29uRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+U3RhdGljUmVzb3VyY2VcIik7XG4gICAgICAgICAgICBpZiAoIXN0YXRpY1Jlc291cmNlIHx8ICFzdGF0aWNSZXNvdXJjZS50ZXh0Q29udGVudClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGljb25DbGlja1Rocm91Z2ggPSBpY29uRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+SWNvbkNsaWNrcz5JY29uQ2xpY2tUaHJvdWdoXCIpO1xuICAgICAgICAgICAgY29uc3QgaWNvbkNsaWNrVHJhY2tpbmcgPSBpY29uRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+SWNvbkNsaWNrcz5JY29uQ2xpY2tUcmFja2luZ1wiKTtcbiAgICAgICAgICAgIGljb25PYmplY3RzLnB1c2goe1xuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICB4UG9zaXRpb246IHgsXG4gICAgICAgICAgICAgICAgeVBvc2l0aW9uOiB5LFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgICAgICAgICBpbWdVcmw6IHN0YXRpY1Jlc291cmNlLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgIGNsaWNrVGhyb3VnaFVybDogaWNvbkNsaWNrVGhyb3VnaD8udGV4dENvbnRlbnQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICBjbGlja1RyYWNraW5nVXJsOiBpY29uQ2xpY2tUcmFja2luZz8udGV4dENvbnRlbnQgPz8gbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGljb25PYmplY3RzO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCB2YXN0ID0gbmV3IFZhc3QoKTtcbiIsImltcG9ydCAqIGFzIGxpYiBmcm9tIFwiLi4vbGliL2luZGV4XCI7XG5jb25zdCBjb250YWluZXIgPSBgXG48IURPQ1RZUEUgaHRtbD5cbjxodG1sPlxuICAgIDxoZWFkPlxuICAgIDwvaGVhZD5cbiAgICA8Ym9keSBzdHlsZT1cIm1hcmdpbjowO1wiPlxuICAgICAgICA8ZGl2IGlkPVwidmFzdF92aWRlb19jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ2YXN0X3ZpZGVvXCIgc3R5bGU9XCJ3aWR0aDozMDBweDtoZWlnaHQ6MTY4Ljc1cHg7XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGlkPVwicHJvZ3Jlc3NfYmFyXCIgc3R5bGU9XCJ3aWR0aDo1MCU7aGVpZ2h0OjNweDtiYWNrZ3JvdW5kLWNvbG9yOmdyYXk7XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiYWRfdGV4dFwiIHN0eWxlPVwibWFyZ2luOjA7d2lkdGg6MzAwcHg7aGVpZ2h0Ojc4LjI1cHg7YmFja2dyb3VuZC1jb2xvcjojZGNkY2RjO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJhZF90aXRsZVwiIHN0eWxlPVwiZm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6Ym9sZDtcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiYWRfZGVzY1wiIHN0eWxlPVwiZm9udC1zaXplOjEwcHg7XCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9ib2R5PlxuPC9odG1sPlxuYDtcbmNvbnN0IGlubGluZVZhc3RTYW1wbGUgPSBgXG48VkFTVCB2ZXJzaW9uPVwiNC4yXCI+XG4gIDxFcnJvcj5cbiAgICA8IVtDREFUQVtodHRwOi8vdGVzdC5leGFtcGxlL2Vycm9yP2NvZGU9W0VSUk9SQ09ERV0mY2xpZW50VGltZT1bVElNRVNUQU1QXV1dPlxuICA8L0Vycm9yPlxuICA8QWQgaWQ9XCIxYjMzMGU1OS0zYTYyLTQwMDAtYjlmYi1hYzk3MjZlOThjNTJcIiBzZXF1ZW5jZT1cIjFcIj5cbiAgICA8SW5MaW5lPlxuICAgICAgPEFkU3lzdGVtIHZlcnNpb249XCIyLjBcIj5uZW5kPC9BZFN5c3RlbT5cbiAgICAgIDxBZFRpdGxlPjwhW0NEQVRBW+OCueODnuODvOODiOODleOCqeODs+OCouODieODjeODg+ODiOODr+ODvOOCr+OAjG5lbmTjgI1dXT48L0FkVGl0bGU+XG4gICAgICA8RGVzY3JpcHRpb24+PCFbQ0RBVEFb6Z2Z5q2i55S744OQ44OK44O844GL44KJ5YuV55S744Oq44Ov44O844OJL+WLleeUu+OCpOODs+OCv+ODvOOCueODhuOCpOOCt+ODo+ODqy/li5XnlLvjg43jgqTjg4bjgqPjg5bjgavlr77lv5zjgZfjgabjgYTjgb7jgZldXT48L0Rlc2NyaXB0aW9uPlxuICAgICAgPEFkdmVydGlzZXI+PCFbQ0RBVEFb5qCq5byP5Lya56S+44OV44Kh44Oz44Kz44Of44Ol44OL44Kx44O844K344On44Oz44K6XV0+PC9BZHZlcnRpc2VyPlxuICAgICAgPEVycm9yPjwhW0NEQVRBW2h0dHBzOi8vaW5saW5lLnRlc3QuZXhhbXBsZS9lcnJvcj9jb2RlPVtFUlJPUkNPREVdJmNsaWVudFRpbWU9W1RJTUVTVEFNUF1dXT48L0Vycm9yPlxuICAgICAgPEltcHJlc3Npb24gaWQ9XCJuZW5kXCI+PCFbQ0RBVEFbaHR0cHM6Ly9pbmxpbmUudGVzdC5leGFtcGxlL2ltcHJlc3Npb24/Y2xpZW50VGltZT1bVElNRVNUQU1QXV1dPjwvSW1wcmVzc2lvbj5cbiAgICAgIDxDcmVhdGl2ZXM+XG4gICAgICAgIDxDcmVhdGl2ZSBhZElkPVwiNzI0NVwiIHNlcXVlbmNlPVwiMVwiPlxuICAgICAgICAgIDxMaW5lYXI+XG4gICAgICAgICAgICA8RHVyYXRpb24+MDA6MDA6MTU8L0R1cmF0aW9uPlxuICAgICAgICAgICAgPE1lZGlhRmlsZXM+XG4gICAgICAgICAgICAgIDxNZWRpYUZpbGUgZGVsaXZlcnk9XCJwcm9ncmVzc2l2ZVwiIHR5cGU9XCJ2aWRlby9tcDRcIiB3aWR0aD1cIjE5MjBcIiBoZWlnaHQ9XCIxMDgwXCI+PCFbQ0RBVEFbaHR0cHM6Ly9zdGF0aWMtaW1hZ2UtaG1yLnMzLmFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb20vZXhtby5tcDRdXT48L01lZGlhRmlsZT5cbiAgICAgICAgICAgIDwvTWVkaWFGaWxlcz5cbiAgICAgICAgICAgIDxWaWRlb0NsaWNrcz5cbiAgICAgICAgICAgICAgPENsaWNrVGhyb3VnaD48IVtDREFUQVtodHRwczovL210LnVuaXRlZC5qcD9pcz10ZXN0XV0+PC9DbGlja1Rocm91Z2g+XG4gICAgICAgICAgICAgIDxDbGlja1RyYWNraW5nPjwhW0NEQVRBW2h0dHBzOi8vaW5saW5lLnRlc3QuZXhhbXBsZS92aWRlb2NsaWNrdHJhY2tpbmc/Y2xpZW50VGltZT1bVElNRVNUQU1QXV1dPjwvQ2xpY2tUcmFja2luZz5cbiAgICAgICAgICAgIDwvVmlkZW9DbGlja3M+XG4gICAgICAgICAgICA8SWNvbnM+XG4gICAgICAgICAgICAgIDxJY29uIHByb2dyYW09XCJuZW5kXCIgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCIgeFBvc2l0aW9uPVwicmlnaHRcIiB5UG9zaXRpb249XCJ0b3BcIiBvZmZzZXQ9XCIwMDowMDowNVwiIGR1cmF0aW9uPVwiMDA6MDA6MDZcIj5cbiAgICAgICAgICAgICAgICA8U3RhdGljUmVzb3VyY2UgY3JlYXRpdmVUeXBlPVwiaW1hZ2UvcG5nXCI+PCFbQ0RBVEFbaHR0cHM6Ly9zdGF0aWMtaW1hZ2UtaG1yLnMzLmFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb20vaS5wbmddXT48L1N0YXRpY1Jlc291cmNlPlxuICAgICAgICAgICAgICAgIDxJY29uQ2xpY2tzPlxuICAgICAgICAgICAgICAgICAgPEljb25DbGlja1Rocm91Z2g+PCFbQ0RBVEFbaHR0cHM6Ly9qYS5hZC1zdGlyLmNvbS9zcC9vcHRvdXQuaHRtbF1dPjwvSWNvbkNsaWNrVGhyb3VnaD5cbiAgICAgICAgICAgICAgICA8L0ljb25DbGlja3M+XG4gICAgICAgICAgICAgIDwvSWNvbj5cbiAgICAgICAgICAgIDwvSWNvbnM+XG4gICAgICAgICAgICA8VHJhY2tpbmdFdmVudHM+XG4gICAgICAgICAgICAgIDxUcmFja2luZyBldmVudD1cInBhdXNlXCI+PCFbQ0RBVEFbaHR0cHM6Ly9pbmxpbmUudGVzdC5leGFtcGxlL3BhdXNlP2NsaWVudFRpbWU9W1RJTUVTVEFNUF1dXT48L1RyYWNraW5nPlxuICAgICAgICAgICAgICA8VHJhY2tpbmcgZXZlbnQ9XCJza2lwXCI+PCFbQ0RBVEFbaHR0cHM6Ly9pbmxpbmUudGVzdC5leGFtcGxlL3NraXA/Y2xpZW50VGltZT1bVElNRVNUQU1QXV1dPjwvVHJhY2tpbmc+XG4gICAgICAgICAgICAgIDxUcmFja2luZyBldmVudD1cInN0YXJ0XCI+PCFbQ0RBVEFbaHR0cHM6Ly9pbmxpbmUudGVzdC5leGFtcGxlL3N0YXJ0P2NsaWVudFRpbWU9W1RJTUVTVEFNUF1dXT48L1RyYWNraW5nPlxuICAgICAgICAgICAgICA8VHJhY2tpbmcgZXZlbnQ9XCJmaXJzdFF1YXJ0aWxlXCI+PCFbQ0RBVEFbaHR0cHM6Ly9pbmxpbmUudGVzdC5leGFtcGxlL2ZpcnN0UXVhcnRpbGU/Y2xpZW50VGltZT1bVElNRVNUQU1QXV1dPjwvVHJhY2tpbmc+XG4gICAgICAgICAgICAgIDxUcmFja2luZyBldmVudD1cIm1pZHBvaW50XCI+PCFbQ0RBVEFbaHR0cHM6Ly9pbmxpbmUudGVzdC5leGFtcGxlL21pZHBvaW50P2NsaWVudFRpbWU9W1RJTUVTVEFNUF1dXT48L1RyYWNraW5nPlxuICAgICAgICAgICAgICA8VHJhY2tpbmcgZXZlbnQ9XCJ0aGlyZFF1YXJ0aWxlXCI+PCFbQ0RBVEFbaHR0cHM6Ly9pbmxpbmUudGVzdC5leGFtcGxlL3RoaXJkUXVhcnRpbGU/Y2xpZW50VGltZT1bVElNRVNUQU1QXV1dPjwvVHJhY2tpbmc+XG4gICAgICAgICAgICAgIDxUcmFja2luZyBldmVudD1cImNvbXBsZXRlXCI+PCFbQ0RBVEFbaHR0cHM6Ly9pbmxpbmUudGVzdC5leGFtcGxlL2NvbXBsZXRlP2NsaWVudFRpbWU9W1RJTUVTVEFNUF1dXT48L1RyYWNraW5nPlxuICAgICAgICAgICAgICA8VHJhY2tpbmcgZXZlbnQ9XCJjb21wbGV0ZVwiPjwhW0NEQVRBW2h0dHBzOi8vaW5saW5lLnRlc3QuZXhhbXBsZS9jb21wbGV0ZTI/Y2xpZW50VGltZT1bVElNRVNUQU1QXV1dPjwvVHJhY2tpbmc+XG4gICAgICAgICAgICA8L1RyYWNraW5nRXZlbnRzPlxuICAgICAgICAgIDwvTGluZWFyPlxuICAgICAgICA8L0NyZWF0aXZlPlxuICAgICAgPC9DcmVhdGl2ZXM+XG4gICAgPC9JbkxpbmU+XG4gIDwvQWQ+XG48L1ZBU1Q+XG5gO1xuY2xhc3MgVmFzdEV4ZWN1dG9yIHtcbiAgICBzdGFydFBsYXllcihzb3VyY2VWYXN0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic2V0UGxheWVyIHN0YXJ0ZWQuLi5cIik7XG4gICAgICAgIHNvdXJjZVZhc3QgPSBpbmxpbmVWYXN0U2FtcGxlO1xuICAgICAgICBjb25zdCB2YXN0T2JqZWN0ID0gbGliLnZhc3QucGFyc2VWYXN0KHNvdXJjZVZhc3QpO1xuICAgICAgICBpZiAoIXZhc3RPYmplY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgaWZyYW1lLndpZHRoID0gXCIzMDBweFwiO1xuICAgICAgICBpZnJhbWUuaGVpZ2h0ID0gXCIyNTBweFwiO1xuICAgICAgICBpZnJhbWUuc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyYm94XCIpPy5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgICAgICBsZXQgaURvYyA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgICBpRG9jLm9wZW4oKTtcbiAgICAgICAgaURvYy53cml0ZShjb250YWluZXIpO1xuICAgICAgICBpRG9jLmNsb3NlKCk7XG4gICAgICAgIGlEb2MuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgbGV0IGFkVGl0bGVEaXYgPSBpRG9jLmdldEVsZW1lbnRCeUlkKFwiYWRfdGl0bGVcIik7XG4gICAgICAgIGFkVGl0bGVEaXYudGV4dENvbnRlbnQgPSB2YXN0T2JqZWN0LmFkVGl0bGU7XG4gICAgICAgIGxldCBhZERlc2NEaXYgPSBpRG9jLmdldEVsZW1lbnRCeUlkKFwiYWRfZGVzY1wiKTtcbiAgICAgICAgaWYgKHZhc3RPYmplY3QuYWREZXNjKSB7XG4gICAgICAgICAgICBhZERlc2NEaXYudGV4dENvbnRlbnQgPSB2YXN0T2JqZWN0LmFkRGVzYztcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFzdFZpZGVvRGl2ID0gaURvYy5nZXRFbGVtZW50QnlJZChcInZhc3RfdmlkZW9cIik7XG4gICAgICAgIGxldCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtcbiAgICAgICAgdmlkZW8uc3JjID0gdmFzdE9iamVjdC5tZWRpYUZpbGVVcmw7XG4gICAgICAgIHZpZGVvLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHZpZGVvLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgICB2aWRlby5tdXRlZCA9IHRydWU7XG4gICAgICAgIHZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgLy8gbG9hZGVkbWV0YWRhdGHjgqTjg5njg7Pjg4jlvozjgafjgarjgYTjgahkdXJhdGlvbuOBjOWPluOCjOOBquOBhFxuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGxldCBwcm9ncmVzc2JhciA9IGlEb2MuZ2V0RWxlbWVudEJ5SWQoXCJwcm9ncmVzc19iYXJcIik7XG4gICAgICAgICAgICBsZXQgYmFyQW5pbWF0aW9uTG9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvZ3Jlc3NQb2ludCA9IHZpZGVvLmN1cnJlbnRUaW1lIC8gdmlkZW8uZHVyYXRpb24gKiAxMDA7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NiYXIuc3R5bGUud2lkdGggPSBwcm9ncmVzc1BvaW50ICsgXCIlXCI7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGJhckFuaW1hdGlvbkxvb3ApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShiYXJBbmltYXRpb25Mb29wKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1hY3JvUmVwbGFjZXIgPSBsaWIuY3JlYXRlUmVwbGFjZXIodmFzdFZpZGVvRGl2KTtcbiAgICAgICAgbGliLnNldEJlYWNvbnModmlkZW8sIHZhc3RPYmplY3QsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICBsaWIuc2V0SWNvbnModmlkZW8sIHZhc3RWaWRlb0RpdiwgdmFzdE9iamVjdCwgbWFjcm9SZXBsYWNlcik7XG4gICAgICAgIC8vIEludGVyc2VjdGlvbk9ic2VydmVyXG4gICAgICAgIC8vIDUwJeeUu+mdouWGheOBq+WFpeOBo+OBn+OCieWGjeeUn+OAgeWHuuOBn+OCieWBnOatolxuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgcm9vdE1hcmdpbjogXCIwcHhcIixcbiAgICAgICAgICAgIHRocmVzaG9sZDogMC41XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKGVudHJpZXMpIHtcbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgb3B0aW9ucyk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodmlkZW8pO1xuICAgICAgICB2YXN0VmlkZW9EaXYuYXBwZW5kQ2hpbGQodmlkZW8pO1xuICAgIH1cbn1cbmNvbnN0IHZhc3RFeGVjdXRvciA9IG5ldyBWYXN0RXhlY3V0b3IoKTtcbndpbmRvdy52YXN0RXhlY3V0b3IgPSB3aW5kb3cudmFzdEV4ZWN1dG9yIHx8IHZhc3RFeGVjdXRvcjtcbiIsImltcG9ydCB7IGNyZWF0ZUJlYWNvbiB9IGZyb20gXCIuL2JlYWNvblwiO1xuZXhwb3J0IGZ1bmN0aW9uIHNldEljb25zKHZpZGVvLCBpY29uUGFyZW50LCB2YXN0T2JqZWN0LCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgZm9yIChsZXQgaWNvbk9iaiBvZiB2YXN0T2JqZWN0Lmljb25zKSB7XG4gICAgICAgIGxldCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgaWNvbi5zcmMgPSBpY29uT2JqLmltZ1VybDtcbiAgICAgICAgaWNvbi53aWR0aCA9IGljb25PYmoud2lkdGg7XG4gICAgICAgIGljb24uaGVpZ2h0ID0gaWNvbk9iai5oZWlnaHQ7XG4gICAgICAgIGljb24uc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgICAgIGlmIChpY29uT2JqLnhQb3NpdGlvbiA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgIGljb24uc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaWNvbk9iai54UG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgaWNvbi5zdHlsZS5yaWdodCA9IFwiMHB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpY29uLnN0eWxlLmxlZnQgPSBpY29uT2JqLnhQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWNvbk9iai55UG9zaXRpb24gPT09IFwidG9wXCIpIHtcbiAgICAgICAgICAgIGljb24uc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpY29uT2JqLnlQb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xuICAgICAgICAgICAgaWNvbi5zdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWNvbi5zdHlsZS50b3AgPSBpY29uT2JqLnlQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGljb25PYmouY2xpY2tUcmFja2luZ1VybCkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZUJlYWNvbih2aWRlbywgaWNvbk9iai5jbGlja1RyYWNraW5nVXJsLCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpY29uT2JqLmNsaWNrVGhyb3VnaFVybCkge1xuICAgICAgICAgICAgICAgIG9wZW4oaWNvbk9iai5jbGlja1Rocm91Z2hVcmwsIFwiX2JsYW5rXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgZnVuY3Rpb24gdGltZUljb25FdmVudChlKSB7XG4gICAgICAgICAgICBpZiAoIWljb25QYXJlbnQuY29udGFpbnMoaWNvbikgJiYgdmlkZW8uY3VycmVudFRpbWUgPj0gaWNvbk9iai5zdGFydCkge1xuICAgICAgICAgICAgICAgIGljb25QYXJlbnQuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaWNvbk9iai5lbmQgJiYgaWNvblBhcmVudC5jb250YWlucyhpY29uKSAmJiB2aWRlby5jdXJyZW50VGltZSA+PSBpY29uT2JqLmVuZCkge1xuICAgICAgICAgICAgICAgIGljb25QYXJlbnQucmVtb3ZlQ2hpbGQoaWNvbik7XG4gICAgICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgdGltZUljb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBlbmTmnKrlrprnvqnjga5pY29u44Gu5YmK6ZmkXG4gICAgICAgIGlmICghaWNvbk9iai5lbmQpIHtcbiAgICAgICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChpY29uUGFyZW50LmNvbnRhaW5zKGljb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGljb25QYXJlbnQucmVtb3ZlQ2hpbGQoaWNvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY29udmVydFRpbWVUb1NlY29uZCIsImR1cmF0aW9uU3RyIiwicmVzdWx0IiwibWF0Y2giLCJsZW5ndGgiLCJOYU4iLCJwYXJzZUludCIsIkVycm9yIiwicGFyc2VGbG9hdCIsImNyZWF0ZUJlYWNvbiIsInBhcmVudCIsInVybCIsIm1hY3JvUmVwbGFjZXIiLCJEYXRlIiwiZWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwic3R5bGUiLCJkaXNwbGF5IiwicHJlcGVuZCIsImNvbnNvbGUiLCJsb2ciLCJzZW5kRXJyb3IiLCJ1cmxzIiwiZXJyb3JDb2RlIiwicmVwbGFjZSIsInRvU3RyaW5nIiwiYm9keSIsIkVycm9yQ29kZSIsIlRSQUNLSU5HX0VWRU5UX1BPSU5UIiwiTWFwIiwidmFzdCIsImVycm9yVXJscyIsImNvbnN0cnVjdG9yIiwidGhpcyIsInBhcnNlVmFzdCIsInNvdXJjZVZhc3QiLCJ2YXN0RWxlIiwicGFyc2VWYXN0WE1MIiwiY3JlYXRlVmFzdE9iamVjdCIsImUiLCJ4bWxEb2MiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJwYXJzZXJFcnJvciIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsInZFbGUiLCJyb290RXJyb3JFbGUiLCJwdXNoIiwiaW5saW5lRWxlIiwiTm9WQVNUUmVzcG9uc2VBZnRlcldyYXBwZXIiLCJlcnJvckVsZSIsImltcEVsZSIsIlhNTFBhcnNlRXJyb3IiLCJpbXByZXNzaW9uVXJsIiwiYWRUaXRsZUVsZSIsImFkVGl0bGUiLCJhZERlc2MiLCJhZERlc2NFbGUiLCJsaW5lYXJFbGUiLCJkdXJhdGlvbkVsZSIsImR1cmF0aW9uIiwidHJhY2tpbmdzRWxlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0cmFja2luZ01hcCIsImNyZWF0ZVRyYWNraW5nT2JqZWN0IiwiaWNvbkVsZXMiLCJpY29uT2JqZWN0cyIsImNyZWF0ZUljb25PYmplY3QiLCJtZWRpYUZpbGVFbGVzIiwibWVkaWFGaWxlVXJsIiwidmlkZW9DbGlja3NFbGUiLCJjbGlja1Rocm91Z2hVcmwiLCJjbGlja1RyYWNraW5nVXJscyIsImNsaWNrVGhyb3VnaEVsZSIsImNsaWNrVHJhY2tpbmdFbGVzIiwiY2xpY2tUcmFja2luZ0VsZSIsImltcHJlc3Npb25VcmxzIiwidHJhY2tpbmdzIiwiaWNvbnMiLCJ0cmFja2luZ0VsZXMiLCJmb3JFYWNoIiwidHJhY2tpbmciLCJldmVudCIsImdldEF0dHJpYnV0ZSIsIm9mZnNldCIsIm9mZnNldFNlY29uZCIsInNldCIsImV2ZW50X3BvaW50IiwiZ2V0IiwidW5kZWZpbmVkIiwiaWNvbiIsImljb25FbGUiLCJ3aWR0aCIsImhlaWdodCIsIngiLCJ4UG9zaXRpb24iLCJ5IiwieVBvc2l0aW9uIiwic3RhcnQiLCJlbmQiLCJzdGF0aWNSZXNvdXJjZSIsImljb25DbGlja1Rocm91Z2giLCJpY29uQ2xpY2tUcmFja2luZyIsImltZ1VybCIsImNsaWNrVHJhY2tpbmdVcmwiLCJ2YXN0RXhlY3V0b3IiLCJzdGFydFBsYXllciIsInZhc3RPYmplY3QiLCJpZnJhbWUiLCJib3JkZXIiLCJnZXRFbGVtZW50QnlJZCIsImFwcGVuZENoaWxkIiwiaURvYyIsImNvbnRlbnRXaW5kb3ciLCJvcGVuIiwid3JpdGUiLCJjbG9zZSIsImRvY3VtZW50RWxlbWVudCIsIm92ZXJmbG93IiwiYWREZXNjRGl2IiwidmFzdFZpZGVvRGl2IiwidmlkZW8iLCJtdXRlZCIsImF1dG9wbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInByb2dyZXNzYmFyIiwiYmFyQW5pbWF0aW9uTG9vcCIsInByb2dyZXNzUG9pbnQiLCJjdXJyZW50VGltZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInZpZGVvUGFyZW50IiwicmVwbGFjZU1hcCIsImRhdGUiLCJ0b0lTT1N0cmluZyIsImludmlld1JhdGlvTWdyIiwicmF0aW8iLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJlbnRyeSIsIk1hdGgiLCJmbG9vciIsImludGVyc2VjdGlvblJhdGlvIiwicm9vdE1hcmdpbiIsInRocmVzaG9sZCIsIm9ic2VydmUiLCJ0b0ZpeGVkIiwiZ2V0SW52aWV3UmF0aW8iLCJ0YXJnZXQiLCJ2YWx1ZSIsImtleSIsIm9uY2UiLCJzZXRJbXByZXNzaW9uVXJsIiwic2V0VmlkZW9DbGlja1Rocm91Z2hVcmwiLCJzZXRWaWRlb0NsaWNrVHJhY2tpbmdVcmxzIiwicG9pbnQiLCJ0aW1lQmVhY29uRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0VHJhY2tpbmdVcmxzIiwiaWNvblBhcmVudCIsImljb25PYmoiLCJwb3NpdGlvbiIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInRpbWVJY29uRXZlbnQiLCJjb250YWlucyIsInJlbW92ZUNoaWxkIiwiaXNJbnRlcnNlY3RpbmciLCJwbGF5IiwicGF1c2UiLCJ3aW5kb3ciXSwic291cmNlUm9vdCI6IiJ9