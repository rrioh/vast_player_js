(()=>{"use strict";function e(e,t,r){if(!t)return;new Date;let n=document.createElement("img");t=r(t,null),n.src=t,n.style.display="none",e.prepend(n),console.log("[DEBUG] beacon sent: "+t)}function t(t,r,n){if(t)for(let o of t)o=o.replace(/\[ERRORCODE\]/,r.toString()),e(document.body,o,n)}function r(e){let t=e.match(/(\d{2}):(\d{2}):(\d{2})\.?(\d{3})?/);if(!t||t.length<4||isNaN(parseInt(t[1]))||isNaN(parseInt(t[2]))||isNaN(parseInt(t[3])))throw new Error("convertdurationToSecond error: "+e);return 5!=t.length||isNaN(parseInt(t[4]))?60*parseInt(t[1])*60+60*parseInt(t[2])+parseFloat(t[3]):60*parseInt(t[1])*60+60*parseInt(t[2])+parseFloat(t[3]+"."+t[4])}function n(e){let t=[];for(let n of e){let e=n,o=parseInt(e.getAttribute("width")||"10")||10,i=parseInt(e.getAttribute("height")||"10")||10,a="0px",s=e.getAttribute("xPosition");s&&(a="left"===s||"right"===s?s:s+"px");let c="0px",l=e.getAttribute("yPosition");l&&(c="top"===l||"bottom"===l?l:l+"px");let p=e.getAttribute("offset"),d=0;p&&(d=r(p));let u=e.getAttribute("duration"),f=null;u&&(f=r(u)+d);const h=e.querySelector(":scope>StaticResource");if(!h||!h.textContent)continue;const m=e.querySelector(":scope>IconClicks>IconClickThrough"),E=e.querySelector(":scope>IconClicks>IconClickTracking");t.push({width:o,height:i,xPosition:a,yPosition:c,start:d,end:f,imgUrl:h.textContent,clickThroughUrl:m?.textContent??null,clickTrackingUrl:E?.textContent??null})}return t}var o;!function(e){e[e.XMLParseError=100]="XMLParseError",e[e.VASTSchemaValidationError=101]="VASTSchemaValidationError",e[e.VASTVersionOfResponseNotSupported=102]="VASTVersionOfResponseNotSupported",e[e.NonPlayableAdType=200]="NonPlayableAdType",e[e.MediaPlayerExpectingDifferentLinearity=201]="MediaPlayerExpectingDifferentLinearity",e[e.MediaPlayerExpectingDifferentDuration=202]="MediaPlayerExpectingDifferentDuration",e[e.MediaPlayerExpectingDifferentSize=203]="MediaPlayerExpectingDifferentSize",e[e.AdCategoryNotProvided=204]="AdCategoryNotProvided",e[e.InlineCategoryViolatesWrapperBlockedAdCategories=205]="InlineCategoryViolatesWrapperBlockedAdCategories",e[e.AdNotServed=206]="AdNotServed",e[e.GeneralWrapperError=300]="GeneralWrapperError",e[e.VASTURIUnavailableOrTimeout=301]="VASTURIUnavailableOrTimeout",e[e.WrapperLimitReached=302]="WrapperLimitReached",e[e.NoVASTResponseAfterWrapper=303]="NoVASTResponseAfterWrapper",e[e.AdUnitNotDisplayed=304]="AdUnitNotDisplayed",e[e.GeneralLinearError=400]="GeneralLinearError",e[e.FileNotFound=401]="FileNotFound",e[e.MediaFileURITimeout=402]="MediaFileURITimeout",e[e.SupportedMediaFileNotFound=403]="SupportedMediaFileNotFound",e[e.ProblemDisplayingMediaFile=405]="ProblemDisplayingMediaFile",e[e.MezzanineNotProvided=406]="MezzanineNotProvided",e[e.MezzanineDownloading=407]="MezzanineDownloading",e[e.ConditionalAdRejected=408]="ConditionalAdRejected",e[e.InteractiveUnitNotExecuted=409]="InteractiveUnitNotExecuted",e[e.VerificationUnitNotExecuted=410]="VerificationUnitNotExecuted",e[e.NotRequiredSpecificationOfMezzanine=411]="NotRequiredSpecificationOfMezzanine",e[e.GeneralNonLinearAdsError=500]="GeneralNonLinearAdsError",e[e.NonLinearAdNonDisplayable=501]="NonLinearAdNonDisplayable",e[e.UnableToFetchNonLinearResource=502]="UnableToFetchNonLinearResource",e[e.SupportedNonLinearResourceNotFound=503]="SupportedNonLinearResourceNotFound",e[e.GeneralCompanionAdsError=600]="GeneralCompanionAdsError",e[e.CompanionNonDisplayableByDimemsionError=601]="CompanionNonDisplayableByDimemsionError",e[e.RequiredCompanionNonDisplayable=602]="RequiredCompanionNonDisplayable",e[e.UnableToFetchNonCompanionResource=603]="UnableToFetchNonCompanionResource",e[e.SupportedCompanionResourceNotFound=604]="SupportedCompanionResourceNotFound",e[e.UndefinedError=900]="UndefinedError",e[e.GeneralVPAIDError=901]="GeneralVPAIDError",e[e.GeneralInteractiveCreativeFileError=902]="GeneralInteractiveCreativeFileError"}(o||(o={}));const i=new Map([["start",0],["firstQuartile",1/4],["midpoint",.5],["thirdQuartile",3/4],["complete",1]]),a=new class{constructor(){}isWrapper(e){return!!e.querySelector(":scope>Ad>Wrapper")}async nextVast(e){const t=e.querySelector(":scope>Ad>Wrapper>VASTAdTagURI");if(!t||!t.textContent)throw new Error("next vast url error");let r=t.textContent;const n=await fetch(r);return await n.text()}async parseVast(e,t){try{let r={errorUrls:[],impressionUrls:[],adTitle:"",adDesc:"",creatives:[]};for(let n=1;n<=5;n++){let o=this.parseVastXML(e);if(!this.isWrapper(o)){r=this.updateInlineVastObject(r,o,t);break}if(5==n)throw new Error("too many wrapper");r=this.updateWrapperVastObject(r,o,t),e=await this.nextVast(o)}return r}catch(e){return console.log("[ERROR] cannot create VASTObject: "+e),null}}parseVastXML(e){let t=(new DOMParser).parseFromString(e,"application/xml"),r=t.querySelector("parsererror");if(r)throw new Error(r.textContent||"parse vast error");let n=t.querySelector("VAST");if(!n)throw new Error("VAST tag not found");return n}updateWrapperVastObject(e,i,a){let s=[];const c=i.querySelector(":scope>Error");c&&c.textContent&&s.push(c.textContent);const l=i.querySelector(":scope>Ad>Wrapper");if(!l)throw t(s,o.NoVASTResponseAfterWrapper,a),new Error("parse Wrapper error");const p=l.querySelector(":scope>Error");p&&p.textContent&&s.push(p.textContent);const d=l.querySelector(":scope>Impression");if(!d||!d.textContent)throw t(s,o.XMLParseError,a),new Error("parse Wrapper Impression error");const u=d.textContent,f=l.querySelector(":scope>Creatives>Creative>Linear");if(!f)return e.errorUrls=e.errorUrls.concat(s),e.impressionUrls.push(u),e;const h=f.querySelector(":scope>Duration");if(!h||!h.textContent)throw t(s,o.XMLParseError,a),new Error("parse Wrapper Linear Duration error");const m=r(h.textContent),E=f.querySelectorAll(":scope>TrackingEvents>Tracking"),g=this.createTrackingObject(E,m),y=n(f.querySelectorAll(":scope>Icons>Icon")),T=f.querySelector(":scope>VideoClicks");let v=null,C=[];if(T){const e=T.querySelector(":scope>ClickThrough");e&&e.textContent&&(v={content:e.textContent});const t=T.querySelectorAll(":scope>ClickTracking");for(let e of t)e.textContent&&C.push({content:e.textContent})}return e.errorUrls=e.errorUrls.concat(s),e.impressionUrls.push(u),e.creatives.push({linear:{duration:m,mediaFiles:[],trackingEvents:g,clickThrough:v,clickTrackings:C,icons:y}}),e}updateInlineVastObject(e,i,a){let s=[];const c=i.querySelector(":scope>Error");c&&c.textContent&&s.push(c.textContent);const l=i.querySelector(":scope>Ad>InLine");if(!l)throw t(s,o.NoVASTResponseAfterWrapper,a),new Error("parse InLine error");const p=l.querySelector(":scope>Error");p&&p.textContent&&s.push(p.textContent);const d=l.querySelector(":scope>Impression");if(!d||!d.textContent)throw t(s,o.XMLParseError,a),new Error("parse InLine Impression error");const u=d.textContent,f=l.querySelector(":scope>AdTitle");if(!f||!f.textContent)throw t(s,o.XMLParseError,a),new Error("parse InLine AdTitle error");const h=f.textContent;let m=null;const E=l.querySelector(":scope>Description");E&&E.textContent&&(m=E.textContent);const g=l.querySelector(":scope>Creatives>Creative>Linear");if(!g)throw t(s,o.XMLParseError,a),new Error("parse InLine Linear error");const y=g.querySelector(":scope>Duration");if(!y||!y.textContent)throw t(s,o.XMLParseError,a),new Error("parse InLine Linear Duration error");const T=r(y.textContent),v=g.querySelectorAll(":scope>TrackingEvents>Tracking"),C=this.createTrackingObject(v,T),A=n(g.querySelectorAll(":scope>Icons>Icon")),x=g.querySelectorAll(":scope>MediaFiles>MediaFile");if(!x)throw t(s,o.XMLParseError,a),new Error("parse MediaFiles error");const I=x[0]?.textContent,S=g.querySelector(":scope>VideoClicks");let w=null,k=[];if(S){const e=S.querySelector(":scope>ClickThrough");if(!e||!e.textContent)throw t(s,o.XMLParseError,a),new Error("parse InLine Linear ClickThrough error");w={content:e.textContent};const r=S.querySelectorAll(":scope>ClickTracking");for(let e of r)e.textContent&&k.push({content:e.textContent})}return e.errorUrls=e.errorUrls.concat(s),e.impressionUrls.push(u),e.adTitle=h,e.adDesc=m,e.creatives.push({linear:{duration:T,mediaFiles:[{content:I}],trackingEvents:C,clickThrough:w,clickTrackings:k,icons:A}}),e}createTrackingObject(e,t){const n=new Map;return e.forEach((function(e){if(!e.textContent)return;const o=e.getAttribute("event");if(o)if("progress"===o){const t=e.getAttribute("offset");if(!t)return;const o=r(t);n.set(o,e.textContent)}else{const r=i.get(o);null!=r?n.set(r*t,e.textContent):n.set(o,e.textContent)}})),n}},s=new class{async startPlayer(t){console.log("setPlayer started...");try{let n=document.createElement("iframe");n.width="300px",n.height="250px",n.style.border="none",document.getElementById("playerbox")?.appendChild(n);let o=n.contentWindow.document;o.open(),o.write('\n<!DOCTYPE html>\n<html>\n    <head>\n    </head>\n    <body style="margin:0;">\n        <div id="vast_video_container">\n            <div id="vast_video" style="width:300px;height:168.75px;"></div>\n            <div id="progress_bar" style="width:50%;height:3px;background-color:gray;"></div>\n            <div id="ad_text" style="margin:0;width:300px;height:78.25px;background-color:#dcdcdc;">\n                <div id="ad_title" style="font-size:15px;font-weight:bold;"></div>\n                <div id="ad_desc" style="font-size:10px;"></div>\n            </div>\n        </div>\n    </body>\n</html>\n'),o.close(),o.documentElement.style.overflow="hidden";let i=o.getElementById("vast_video");const s=function(e){let t=new Map;t.set("[TIMESTAMP]",(()=>(new Date).toISOString()));const r={ratio:0};return new IntersectionObserver((function(e){e.forEach((function(e){const t=Math.floor(100*e.intersectionRatio)/100;r.ratio=t}))}),{rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(e),t.set("[INVIEW_RATIO]",function(e){return()=>e.ratio.toFixed(2)}(r)),(e,r)=>(r&&t.set("[ERRORCODE]",r.toString()),t.forEach(((t,r)=>{e=e.replace(r,"function"==typeof t?t():t)})),e)}(i),c=await a.parseVast('\n<VAST version="4.2">\n  <Error>\n    <![CDATA[http://test.example/error?code=[ERRORCODE]&clientTime=[TIMESTAMP]]]>\n  </Error>\n  <Ad id="1b330e59-3a62-4000-b9fb-ac9726e98c52" sequence="1">\n    <Wrapper>\n      <Impression><![CDATA[https://wrapper.test.example/impression?clientTime=[TIMESTAMP]&inview_ratio=[INVIEW_RATIO]]]></Impression>\n      <VASTAdTagURI>\n        <![CDATA[http://localhost:8080/sample/inline.html]]>\n      </VASTAdTagURI>\n      <Creatives>\n        <Creative adId="7245" sequence="1">\n          <Linear>\n            <Duration>00:00:14.014</Duration>\n            <TrackingEvents>\n              <Tracking event="start"><![CDATA[https://wrapper.test.example/start?clientTime=[TIMESTAMP]&inview_ratio=[INVIEW_RATIO]]]></Tracking>\n              <Tracking event="firstQuartile"><![CDATA[https://wrapper.test.example/firstQuartile?clientTime=[TIMESTAMP]&inview_ratio=[INVIEW_RATIO]]]></Tracking>\n              <Tracking event="complete"><![CDATA[https://wrapper.test.example/complete?clientTime=[TIMESTAMP]&inview_ratio=[INVIEW_RATIO]]]></Tracking>\n            </TrackingEvents>\n          </Linear>\n        </Creative>\n      </Creatives>\n    </Wrapper>\n  </Ad>\n</VAST>\n',s);if(!c)return;o.getElementById("ad_title").textContent=c.adTitle;let l=o.getElementById("ad_desc");c.adDesc&&(l.textContent=c.adDesc);let p=document.createElement("video");for(let u of c.creatives)for(let f of u.linear.mediaFiles){let h=document.createElement("source");h.src=f.content;let m=(r=f.content,/\.mp4$/.test(r)?"video/mp4":/\.mov$/.test(r)?"video/quicktime":/\.mpg$/.test(r)||/\.mpeg$/.test(r)?"video/mpeg":/\.webm$/.test(r)?"video/webm":"");m&&(h.type=m),p.appendChild(h)}function d(e){e.forEach((function(e){e.isIntersecting?p.play():p.pause()}))}p.style.width="100%",p.style.height="100%",p.muted=!0,p.autoplay=!0,p.addEventListener("loadedmetadata",(function(e){let t=o.getElementById("progress_bar"),r=function(){let e=p.currentTime/p.duration*100;t.style.width=e+"%",requestAnimationFrame(r)};requestAnimationFrame(r)})),function(t,r,n){!function(t,r,n){for(let o of r)t.addEventListener("canplay",(function(r){e(t,o,n)}),{once:!0})}(t,r.impressionUrls,n),function(e,t){for(let r of t.creatives)if(r.linear.clickThrough){const t=r.linear.clickThrough.content;e.addEventListener("click",(function(e){open(t,"_blank")}))}}(t,r),function(t,r,n){for(let o of r.creatives)for(let r of o.linear.clickTrackings){const o=r.content;t.addEventListener("click",(function(r){e(t,o,n)}))}}(t,r,n),function(t,r,n){t.addEventListener("loadedmetadata",(function(o){for(let o of r.creatives)for(let[r,i]of o.linear.trackingEvents)"loaded"==r?t.addEventListener("canplay",(function(r){e(t,i,n)}),{once:!0}):"pause"===r?t.addEventListener("pause",(function(r){t.currentTime<t.duration&&e(t,i,n)})):"number"==typeof r&&t.addEventListener("timeupdate",(function o(a){t.currentTime>=r&&(e(t,i,n),t.removeEventListener("timeupdate",o))}))}))}(t,r,n)}(p,c,s),function(t,r,n,o){for(let i of n.creatives)for(let n of i.linear.icons){let i=document.createElement("img");i.src=n.imgUrl,i.width=n.width,i.height=n.height,i.style.position="fixed","left"===n.xPosition?i.style.left="0px":"right"===n.xPosition?i.style.right="0px":i.style.left=n.xPosition,"top"===n.yPosition?i.style.top="0px":"bottom"===n.yPosition?i.style.bottom="0px":i.style.top=n.yPosition,i.addEventListener("click",(function(r){n.clickTrackingUrl&&e(t,n.clickTrackingUrl,o),n.clickThroughUrl&&open(n.clickThroughUrl,"_blank")})),t.addEventListener("timeupdate",(function e(o){!r.contains(i)&&t.currentTime>=n.start&&r.appendChild(i),n.end&&r.contains(i)&&t.currentTime>=n.end&&(r.removeChild(i),t.removeEventListener("timeupdate",e))})),n.end||t.addEventListener("ended",(function(e){r.contains(i)&&r.removeChild(i)}))}}(p,i,c,s),i.appendChild(p),new IntersectionObserver(d,{rootMargin:"0px",threshold:.5}).observe(p)}catch(E){console.log("cannot start Player: "+E)}var r}};window.vastExecutor=window.vastExecutor||s})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyIsIndlYnBhY2s6Ly92YXN0X3BsYXllcl9qcy8uL2xpYi91dGlsL3RpbWUudHMiLCJ3ZWJwYWNrOi8vdmFzdF9wbGF5ZXJfanMvLi9saWIvZG9tYWluL3NlcnZpY2UvaWNvbi50cyIsIndlYnBhY2s6Ly92YXN0X3BsYXllcl9qcy8uL2xpYi91dGlsL21hY3JvLnRzIiwid2VicGFjazovL3Zhc3RfcGxheWVyX2pzLy4vbGliL2RvbWFpbi9zZXJ2aWNlL3Zhc3QudHMiLCJ3ZWJwYWNrOi8vdmFzdF9wbGF5ZXJfanMvLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly92YXN0X3BsYXllcl9qcy8uL2xpYi91dGlsL3ZpZGVvLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHNldEltcHJlc3Npb25VcmwodmlkZW8sIHVybHMsIG1hY3JvUmVwbGFjZXIpIHtcbiAgICBmb3IgKGxldCB1cmwgb2YgdXJscykge1xuICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgY3JlYXRlQmVhY29uKHZpZGVvLCB1cmwsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0VmlkZW9DbGlja1Rocm91Z2hVcmwodmlkZW8sIHZhc3RPYmplY3QpIHtcbiAgICBmb3IgKGxldCBjcmVhdGl2ZSBvZiB2YXN0T2JqZWN0LmNyZWF0aXZlcykge1xuICAgICAgICBpZiAoY3JlYXRpdmUubGluZWFyLmNsaWNrVGhyb3VnaCkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gY3JlYXRpdmUubGluZWFyLmNsaWNrVGhyb3VnaC5jb250ZW50O1xuICAgICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgb3Blbih1cmwsIFwiX2JsYW5rXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzZXRWaWRlb0NsaWNrVHJhY2tpbmdVcmxzKHZpZGVvLCB2YXN0T2JqZWN0LCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgZm9yIChsZXQgY3JlYXRpdmUgb2YgdmFzdE9iamVjdC5jcmVhdGl2ZXMpIHtcbiAgICAgICAgZm9yIChsZXQgY2xpY2tUcmFja2luZyBvZiBjcmVhdGl2ZS5saW5lYXIuY2xpY2tUcmFja2luZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGNsaWNrVHJhY2tpbmcuY29udGVudDtcbiAgICAgICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZUJlYWNvbih2aWRlbywgdXJsLCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0VHJhY2tpbmdVcmxzKHZpZGVvLCB2YXN0T2JqZWN0LCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZG1ldGFkYXRhXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGZvciAobGV0IGNyZWF0aXZlIG9mIHZhc3RPYmplY3QuY3JlYXRpdmVzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBbcG9pbnQsIHVybF0gb2YgY3JlYXRpdmUubGluZWFyLnRyYWNraW5nRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ID09IFwibG9hZGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUJlYWNvbih2aWRlbywgdXJsLCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwb2ludCA9PT0gXCJwYXVzZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXVzZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvLmN1cnJlbnRUaW1lIDwgdmlkZW8uZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVCZWFjb24odmlkZW8sIHVybCwgbWFjcm9SZXBsYWNlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcG9pbnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIiwgZnVuY3Rpb24gdGltZUJlYWNvbkV2ZW50KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aWRlby5jdXJyZW50VGltZSA+PSBwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUJlYWNvbih2aWRlbywgdXJsLCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCB0aW1lQmVhY29uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCZWFjb24ocGFyZW50LCB1cmwsIG1hY3JvUmVwbGFjZXIpIHtcbiAgICBpZiAoIXVybClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBsZXQgZWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICB1cmwgPSBtYWNyb1JlcGxhY2VyKHVybCwgbnVsbCk7XG4gICAgZWxlLnNyYyA9IHVybDtcbiAgICBlbGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHBhcmVudC5wcmVwZW5kKGVsZSk7XG4gICAgY29uc29sZS5sb2coXCJbREVCVUddIGJlYWNvbiBzZW50OiBcIiArIHVybCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VuZEVycm9yKHVybHMsIGVycm9yQ29kZSwgbWFjcm9SZXBsYWNlcikge1xuICAgIGlmICghdXJscylcbiAgICAgICAgcmV0dXJuO1xuICAgIGZvciAobGV0IHVybCBvZiB1cmxzKSB7XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9cXFtFUlJPUkNPREVcXF0vLCBlcnJvckNvZGUudG9TdHJpbmcoKSk7XG4gICAgICAgIGNyZWF0ZUJlYWNvbihkb2N1bWVudC5ib2R5LCB1cmwsIG1hY3JvUmVwbGFjZXIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRCZWFjb25zKHZpZGVvLCB2YXN0T2JqZWN0LCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgc2V0SW1wcmVzc2lvblVybCh2aWRlbywgdmFzdE9iamVjdC5pbXByZXNzaW9uVXJscywgbWFjcm9SZXBsYWNlcik7XG4gICAgc2V0VmlkZW9DbGlja1Rocm91Z2hVcmwodmlkZW8sIHZhc3RPYmplY3QpO1xuICAgIHNldFZpZGVvQ2xpY2tUcmFja2luZ1VybHModmlkZW8sIHZhc3RPYmplY3QsIG1hY3JvUmVwbGFjZXIpO1xuICAgIHNldFRyYWNraW5nVXJscyh2aWRlbywgdmFzdE9iamVjdCwgbWFjcm9SZXBsYWNlcik7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY29udmVydFRpbWVUb1NlY29uZChkdXJhdGlvblN0cikge1xuICAgIGxldCByZXN1bHQgPSBkdXJhdGlvblN0ci5tYXRjaCgvKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSlcXC4/KFxcZHszfSk/Lyk7XG4gICAgaWYgKCFyZXN1bHQgfHxcbiAgICAgICAgcmVzdWx0Lmxlbmd0aCA8IDQgfHxcbiAgICAgICAgaXNOYU4ocGFyc2VJbnQocmVzdWx0WzFdKSkgfHxcbiAgICAgICAgaXNOYU4ocGFyc2VJbnQocmVzdWx0WzJdKSkgfHxcbiAgICAgICAgaXNOYU4ocGFyc2VJbnQocmVzdWx0WzNdKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29udmVydGR1cmF0aW9uVG9TZWNvbmQgZXJyb3I6IFwiICsgZHVyYXRpb25TdHIpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PSA1ICYmICFpc05hTihwYXJzZUludChyZXN1bHRbNF0pKSkge1xuICAgICAgICByZXR1cm4gKHBhcnNlSW50KHJlc3VsdFsxXSkgKiA2MCAqIDYwICtcbiAgICAgICAgICAgIHBhcnNlSW50KHJlc3VsdFsyXSkgKiA2MCArXG4gICAgICAgICAgICBwYXJzZUZsb2F0KHJlc3VsdFszXSArIFwiLlwiICsgcmVzdWx0WzRdKSk7XG4gICAgfVxuICAgIHJldHVybiAocGFyc2VJbnQocmVzdWx0WzFdKSAqIDYwICogNjAgK1xuICAgICAgICBwYXJzZUludChyZXN1bHRbMl0pICogNjAgK1xuICAgICAgICBwYXJzZUZsb2F0KHJlc3VsdFszXSkpO1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlQmVhY29uIH0gZnJvbSBcIi4vYmVhY29uXCI7XG5pbXBvcnQgeyBjb252ZXJ0VGltZVRvU2Vjb25kIH0gZnJvbSBcIi4uLy4uL3V0aWwvdGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUljb25zKGljb25FbGVzKSB7XG4gICAgbGV0IGljb25PYmplY3RzID0gW107XG4gICAgZm9yIChsZXQgaWNvbiBvZiBpY29uRWxlcykge1xuICAgICAgICBsZXQgaWNvbkVsZSA9IGljb247XG4gICAgICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KGljb25FbGUuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikgfHwgXCIxMFwiKSB8fCAxMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IHBhcnNlSW50KGljb25FbGUuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpIHx8IFwiMTBcIikgfHwgMTA7XG4gICAgICAgIGxldCB4ID0gXCIwcHhcIjtcbiAgICAgICAgbGV0IHhQb3NpdGlvbiA9IGljb25FbGUuZ2V0QXR0cmlidXRlKFwieFBvc2l0aW9uXCIpO1xuICAgICAgICBpZiAoeFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBpZiAoeFBvc2l0aW9uID09PSBcImxlZnRcIiB8fCB4UG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgICAgIHggPSB4UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0geFBvc2l0aW9uICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB5ID0gXCIwcHhcIjtcbiAgICAgICAgbGV0IHlQb3NpdGlvbiA9IGljb25FbGUuZ2V0QXR0cmlidXRlKFwieVBvc2l0aW9uXCIpO1xuICAgICAgICBpZiAoeVBvc2l0aW9uKSB7XG4gICAgICAgICAgICBpZiAoeVBvc2l0aW9uID09PSBcInRvcFwiIHx8IHlQb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xuICAgICAgICAgICAgICAgIHkgPSB5UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5ID0geVBvc2l0aW9uICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvZmZzZXQgPSBpY29uRWxlLmdldEF0dHJpYnV0ZShcIm9mZnNldFwiKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgaWYgKG9mZnNldClcbiAgICAgICAgICAgIHN0YXJ0ID0gY29udmVydFRpbWVUb1NlY29uZChvZmZzZXQpO1xuICAgICAgICBsZXQgZHVyYXRpb24gPSBpY29uRWxlLmdldEF0dHJpYnV0ZShcImR1cmF0aW9uXCIpO1xuICAgICAgICBsZXQgZW5kID0gbnVsbDtcbiAgICAgICAgaWYgKGR1cmF0aW9uKVxuICAgICAgICAgICAgZW5kID0gY29udmVydFRpbWVUb1NlY29uZChkdXJhdGlvbikgKyBzdGFydDtcbiAgICAgICAgY29uc3Qgc3RhdGljUmVzb3VyY2UgPSBpY29uRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+U3RhdGljUmVzb3VyY2VcIik7XG4gICAgICAgIGlmICghc3RhdGljUmVzb3VyY2UgfHwgIXN0YXRpY1Jlc291cmNlLnRleHRDb250ZW50KVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGljb25DbGlja1Rocm91Z2ggPSBpY29uRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+SWNvbkNsaWNrcz5JY29uQ2xpY2tUaHJvdWdoXCIpO1xuICAgICAgICBjb25zdCBpY29uQ2xpY2tUcmFja2luZyA9IGljb25FbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5JY29uQ2xpY2tzPkljb25DbGlja1RyYWNraW5nXCIpO1xuICAgICAgICBpY29uT2JqZWN0cy5wdXNoKHtcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgeFBvc2l0aW9uOiB4LFxuICAgICAgICAgICAgeVBvc2l0aW9uOiB5LFxuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBpbWdVcmw6IHN0YXRpY1Jlc291cmNlLnRleHRDb250ZW50LFxuICAgICAgICAgICAgY2xpY2tUaHJvdWdoVXJsOiBpY29uQ2xpY2tUaHJvdWdoPy50ZXh0Q29udGVudCA/PyBudWxsLFxuICAgICAgICAgICAgY2xpY2tUcmFja2luZ1VybDogaWNvbkNsaWNrVHJhY2tpbmc/LnRleHRDb250ZW50ID8/IG51bGxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpY29uT2JqZWN0cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRJY29ucyh2aWRlbywgaWNvblBhcmVudCwgdmFzdE9iamVjdCwgbWFjcm9SZXBsYWNlcikge1xuICAgIGZvciAobGV0IGNyZWF0aXZlIG9mIHZhc3RPYmplY3QuY3JlYXRpdmVzKSB7XG4gICAgICAgIGZvciAobGV0IGljb25PYmogb2YgY3JlYXRpdmUubGluZWFyLmljb25zKSB7XG4gICAgICAgICAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICBpY29uLnNyYyA9IGljb25PYmouaW1nVXJsO1xuICAgICAgICAgICAgaWNvbi53aWR0aCA9IGljb25PYmoud2lkdGg7XG4gICAgICAgICAgICBpY29uLmhlaWdodCA9IGljb25PYmouaGVpZ2h0O1xuICAgICAgICAgICAgaWNvbi5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgICAgIGlmIChpY29uT2JqLnhQb3NpdGlvbiA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgICAgICBpY29uLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaWNvbk9iai54UG9zaXRpb24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgICAgIGljb24uc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWNvbi5zdHlsZS5sZWZ0ID0gaWNvbk9iai54UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaWNvbk9iai55UG9zaXRpb24gPT09IFwidG9wXCIpIHtcbiAgICAgICAgICAgICAgICBpY29uLnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpY29uT2JqLnlQb3NpdGlvbiA9PT0gXCJib3R0b21cIikge1xuICAgICAgICAgICAgICAgIGljb24uc3R5bGUuYm90dG9tID0gXCIwcHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGljb24uc3R5bGUudG9wID0gaWNvbk9iai55UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChpY29uT2JqLmNsaWNrVHJhY2tpbmdVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQmVhY29uKHZpZGVvLCBpY29uT2JqLmNsaWNrVHJhY2tpbmdVcmwsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaWNvbk9iai5jbGlja1Rocm91Z2hVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbihpY29uT2JqLmNsaWNrVGhyb3VnaFVybCwgXCJfYmxhbmtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCBmdW5jdGlvbiB0aW1lSWNvbkV2ZW50KGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWljb25QYXJlbnQuY29udGFpbnMoaWNvbikgJiYgdmlkZW8uY3VycmVudFRpbWUgPj0gaWNvbk9iai5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBpY29uUGFyZW50LmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaWNvbk9iai5lbmQgJiYgaWNvblBhcmVudC5jb250YWlucyhpY29uKSAmJiB2aWRlby5jdXJyZW50VGltZSA+PSBpY29uT2JqLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICBpY29uUGFyZW50LnJlbW92ZUNoaWxkKGljb24pO1xuICAgICAgICAgICAgICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCB0aW1lSWNvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGVuZOacquWumue+qeOBrmljb27jga7liYrpmaRcbiAgICAgICAgICAgIGlmICghaWNvbk9iai5lbmQpIHtcbiAgICAgICAgICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGljb25QYXJlbnQuY29udGFpbnMoaWNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25QYXJlbnQucmVtb3ZlQ2hpbGQoaWNvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCB2YXIgRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChFcnJvckNvZGUpIHtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiWE1MUGFyc2VFcnJvclwiXSA9IDEwMF0gPSBcIlhNTFBhcnNlRXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVkFTVFNjaGVtYVZhbGlkYXRpb25FcnJvclwiXSA9IDEwMV0gPSBcIlZBU1RTY2hlbWFWYWxpZGF0aW9uRXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVkFTVFZlcnNpb25PZlJlc3BvbnNlTm90U3VwcG9ydGVkXCJdID0gMTAyXSA9IFwiVkFTVFZlcnNpb25PZlJlc3BvbnNlTm90U3VwcG9ydGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk5vblBsYXlhYmxlQWRUeXBlXCJdID0gMjAwXSA9IFwiTm9uUGxheWFibGVBZFR5cGVcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTWVkaWFQbGF5ZXJFeHBlY3RpbmdEaWZmZXJlbnRMaW5lYXJpdHlcIl0gPSAyMDFdID0gXCJNZWRpYVBsYXllckV4cGVjdGluZ0RpZmZlcmVudExpbmVhcml0eVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJNZWRpYVBsYXllckV4cGVjdGluZ0RpZmZlcmVudER1cmF0aW9uXCJdID0gMjAyXSA9IFwiTWVkaWFQbGF5ZXJFeHBlY3RpbmdEaWZmZXJlbnREdXJhdGlvblwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJNZWRpYVBsYXllckV4cGVjdGluZ0RpZmZlcmVudFNpemVcIl0gPSAyMDNdID0gXCJNZWRpYVBsYXllckV4cGVjdGluZ0RpZmZlcmVudFNpemVcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiQWRDYXRlZ29yeU5vdFByb3ZpZGVkXCJdID0gMjA0XSA9IFwiQWRDYXRlZ29yeU5vdFByb3ZpZGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIklubGluZUNhdGVnb3J5VmlvbGF0ZXNXcmFwcGVyQmxvY2tlZEFkQ2F0ZWdvcmllc1wiXSA9IDIwNV0gPSBcIklubGluZUNhdGVnb3J5VmlvbGF0ZXNXcmFwcGVyQmxvY2tlZEFkQ2F0ZWdvcmllc1wiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJBZE5vdFNlcnZlZFwiXSA9IDIwNl0gPSBcIkFkTm90U2VydmVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkdlbmVyYWxXcmFwcGVyRXJyb3JcIl0gPSAzMDBdID0gXCJHZW5lcmFsV3JhcHBlckVycm9yXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlZBU1RVUklVbmF2YWlsYWJsZU9yVGltZW91dFwiXSA9IDMwMV0gPSBcIlZBU1RVUklVbmF2YWlsYWJsZU9yVGltZW91dFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJXcmFwcGVyTGltaXRSZWFjaGVkXCJdID0gMzAyXSA9IFwiV3JhcHBlckxpbWl0UmVhY2hlZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJOb1ZBU1RSZXNwb25zZUFmdGVyV3JhcHBlclwiXSA9IDMwM10gPSBcIk5vVkFTVFJlc3BvbnNlQWZ0ZXJXcmFwcGVyXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkFkVW5pdE5vdERpc3BsYXllZFwiXSA9IDMwNF0gPSBcIkFkVW5pdE5vdERpc3BsYXllZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJHZW5lcmFsTGluZWFyRXJyb3JcIl0gPSA0MDBdID0gXCJHZW5lcmFsTGluZWFyRXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiRmlsZU5vdEZvdW5kXCJdID0gNDAxXSA9IFwiRmlsZU5vdEZvdW5kXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk1lZGlhRmlsZVVSSVRpbWVvdXRcIl0gPSA0MDJdID0gXCJNZWRpYUZpbGVVUklUaW1lb3V0XCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlN1cHBvcnRlZE1lZGlhRmlsZU5vdEZvdW5kXCJdID0gNDAzXSA9IFwiU3VwcG9ydGVkTWVkaWFGaWxlTm90Rm91bmRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiUHJvYmxlbURpc3BsYXlpbmdNZWRpYUZpbGVcIl0gPSA0MDVdID0gXCJQcm9ibGVtRGlzcGxheWluZ01lZGlhRmlsZVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJNZXp6YW5pbmVOb3RQcm92aWRlZFwiXSA9IDQwNl0gPSBcIk1lenphbmluZU5vdFByb3ZpZGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk1lenphbmluZURvd25sb2FkaW5nXCJdID0gNDA3XSA9IFwiTWV6emFuaW5lRG93bmxvYWRpbmdcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiQ29uZGl0aW9uYWxBZFJlamVjdGVkXCJdID0gNDA4XSA9IFwiQ29uZGl0aW9uYWxBZFJlamVjdGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkludGVyYWN0aXZlVW5pdE5vdEV4ZWN1dGVkXCJdID0gNDA5XSA9IFwiSW50ZXJhY3RpdmVVbml0Tm90RXhlY3V0ZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiVmVyaWZpY2F0aW9uVW5pdE5vdEV4ZWN1dGVkXCJdID0gNDEwXSA9IFwiVmVyaWZpY2F0aW9uVW5pdE5vdEV4ZWN1dGVkXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk5vdFJlcXVpcmVkU3BlY2lmaWNhdGlvbk9mTWV6emFuaW5lXCJdID0gNDExXSA9IFwiTm90UmVxdWlyZWRTcGVjaWZpY2F0aW9uT2ZNZXp6YW5pbmVcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiR2VuZXJhbE5vbkxpbmVhckFkc0Vycm9yXCJdID0gNTAwXSA9IFwiR2VuZXJhbE5vbkxpbmVhckFkc0Vycm9yXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIk5vbkxpbmVhckFkTm9uRGlzcGxheWFibGVcIl0gPSA1MDFdID0gXCJOb25MaW5lYXJBZE5vbkRpc3BsYXlhYmxlXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlVuYWJsZVRvRmV0Y2hOb25MaW5lYXJSZXNvdXJjZVwiXSA9IDUwMl0gPSBcIlVuYWJsZVRvRmV0Y2hOb25MaW5lYXJSZXNvdXJjZVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJTdXBwb3J0ZWROb25MaW5lYXJSZXNvdXJjZU5vdEZvdW5kXCJdID0gNTAzXSA9IFwiU3VwcG9ydGVkTm9uTGluZWFyUmVzb3VyY2VOb3RGb3VuZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJHZW5lcmFsQ29tcGFuaW9uQWRzRXJyb3JcIl0gPSA2MDBdID0gXCJHZW5lcmFsQ29tcGFuaW9uQWRzRXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiQ29tcGFuaW9uTm9uRGlzcGxheWFibGVCeURpbWVtc2lvbkVycm9yXCJdID0gNjAxXSA9IFwiQ29tcGFuaW9uTm9uRGlzcGxheWFibGVCeURpbWVtc2lvbkVycm9yXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlJlcXVpcmVkQ29tcGFuaW9uTm9uRGlzcGxheWFibGVcIl0gPSA2MDJdID0gXCJSZXF1aXJlZENvbXBhbmlvbk5vbkRpc3BsYXlhYmxlXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlVuYWJsZVRvRmV0Y2hOb25Db21wYW5pb25SZXNvdXJjZVwiXSA9IDYwM10gPSBcIlVuYWJsZVRvRmV0Y2hOb25Db21wYW5pb25SZXNvdXJjZVwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJTdXBwb3J0ZWRDb21wYW5pb25SZXNvdXJjZU5vdEZvdW5kXCJdID0gNjA0XSA9IFwiU3VwcG9ydGVkQ29tcGFuaW9uUmVzb3VyY2VOb3RGb3VuZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJVbmRlZmluZWRFcnJvclwiXSA9IDkwMF0gPSBcIlVuZGVmaW5lZEVycm9yXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkdlbmVyYWxWUEFJREVycm9yXCJdID0gOTAxXSA9IFwiR2VuZXJhbFZQQUlERXJyb3JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiR2VuZXJhbEludGVyYWN0aXZlQ3JlYXRpdmVGaWxlRXJyb3JcIl0gPSA5MDJdID0gXCJHZW5lcmFsSW50ZXJhY3RpdmVDcmVhdGl2ZUZpbGVFcnJvclwiO1xufSkoRXJyb3JDb2RlIHx8IChFcnJvckNvZGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlcGxhY2VyKHZpZGVvUGFyZW50KSB7XG4gICAgbGV0IHJlcGxhY2VNYXAgPSBuZXcgTWFwKCk7XG4gICAgLy8gdGltZSBzdGFtcFxuICAgIHJlcGxhY2VNYXAuc2V0KFwiW1RJTUVTVEFNUF1cIiwgZ2V0VGltZXN0YW1wKCkpO1xuICAgIC8vIGludmlldyByYXRpb1xuICAgIGNvbnN0IGludmlld1JhdGlvTWdyID0ge1xuICAgICAgICByYXRpbzogMCxcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHJvb3RNYXJnaW46IFwiMHB4XCIsXG4gICAgICAgIHRocmVzaG9sZDogWzAsIDAuMSwgMC4yLCAwLjMsIDAuNCwgMC41LCAwLjYsIDAuNywgMC44LCAwLjksIDFdLFxuICAgIH07XG4gICAgZnVuY3Rpb24gY2FsbGJhY2soZW50cmllcykge1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICBjb25zdCByYXRpbyA9IE1hdGguZmxvb3IoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgaW52aWV3UmF0aW9NZ3IucmF0aW8gPSByYXRpbztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHZpZGVvUGFyZW50KTtcbiAgICByZXBsYWNlTWFwLnNldChcIltJTlZJRVdfUkFUSU9dXCIsIGdldEludmlld1JhdGlvKGludmlld1JhdGlvTWdyKSk7XG4gICAgcmV0dXJuICh0YXJnZXQsIGVycm9yQ29kZSkgPT4ge1xuICAgICAgICBpZiAoZXJyb3JDb2RlKSB7XG4gICAgICAgICAgICByZXBsYWNlTWFwLnNldChcIltFUlJPUkNPREVdXCIsIGVycm9yQ29kZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5yZXBsYWNlKGtleSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZSgpIDogdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0VGltZXN0YW1wKCkge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0SW52aWV3UmF0aW8oaW52aWV3UmF0aW9NZ3IpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZXR1cm4gaW52aWV3UmF0aW9NZ3IucmF0aW8udG9GaXhlZCgyKTtcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgc2VuZEVycm9yIH0gZnJvbSBcIi4vYmVhY29uXCI7XG5pbXBvcnQgeyBjcmVhdGVJY29ucyB9IGZyb20gXCIuL2ljb25cIjtcbmltcG9ydCB7IEVycm9yQ29kZSB9IGZyb20gXCIuLi8uLi91dGlsL21hY3JvXCI7XG5pbXBvcnQgeyBjb252ZXJ0VGltZVRvU2Vjb25kIH0gZnJvbSBcIi4uLy4uL3V0aWwvdGltZVwiO1xuY29uc3QgV1JBUFBFUl9NQVggPSA1O1xuY29uc3QgVFJBQ0tJTkdfRVZFTlRfUE9JTlQgPSBuZXcgTWFwKFtcbiAgICBbXCJzdGFydFwiLCAwXSxcbiAgICBbXCJmaXJzdFF1YXJ0aWxlXCIsIDEgLyA0XSxcbiAgICBbXCJtaWRwb2ludFwiLCAxIC8gMl0sXG4gICAgW1widGhpcmRRdWFydGlsZVwiLCAzIC8gNF0sXG4gICAgW1wiY29tcGxldGVcIiwgMV1cbl0pO1xuZnVuY3Rpb24gaW5pdFZhc3RPYmplY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3JVcmxzOiBbXSxcbiAgICAgICAgaW1wcmVzc2lvblVybHM6IFtdLFxuICAgICAgICBhZFRpdGxlOiBcIlwiLFxuICAgICAgICBhZERlc2M6IFwiXCIsXG4gICAgICAgIGNyZWF0aXZlczogW11cbiAgICB9O1xufVxuY2xhc3MgVmFzdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuICAgIGlzV3JhcHBlcih2RWxlKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXJFbGUgPSB2RWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+QWQ+V3JhcHBlclwiKTtcbiAgICAgICAgaWYgKHdyYXBwZXJFbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgbmV4dFZhc3QodkVsZSkge1xuICAgICAgICBjb25zdCB2YXN0QWRUYWdVUklFbGUgPSB2RWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+QWQ+V3JhcHBlcj5WQVNUQWRUYWdVUklcIik7XG4gICAgICAgIGlmICghdmFzdEFkVGFnVVJJRWxlIHx8ICF2YXN0QWRUYWdVUklFbGUudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5leHQgdmFzdCB1cmwgZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVybCA9IHZhc3RBZFRhZ1VSSUVsZS50ZXh0Q29udGVudDtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZVZhc3Qoc291cmNlVmFzdCwgbWFjcm9SZXBsYWNlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHZhc3RPYmplY3QgPSBpbml0VmFzdE9iamVjdCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gV1JBUFBFUl9NQVg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIHBhcnNlIFZBU1QgdG8gT2JqZWN0XG4gICAgICAgICAgICAgICAgbGV0IHZhc3RFbGUgPSB0aGlzLnBhcnNlVmFzdFhNTChzb3VyY2VWYXN0KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1dyYXBwZXIodmFzdEVsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gV1JBUFBFUl9NQVgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRvbyBtYW55IHdyYXBwZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFzdE9iamVjdCA9IHRoaXMudXBkYXRlV3JhcHBlclZhc3RPYmplY3QodmFzdE9iamVjdCwgdmFzdEVsZSwgbWFjcm9SZXBsYWNlcik7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhc3QgPSBhd2FpdCB0aGlzLm5leHRWYXN0KHZhc3RFbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFzdE9iamVjdCA9IHRoaXMudXBkYXRlSW5saW5lVmFzdE9iamVjdCh2YXN0T2JqZWN0LCB2YXN0RWxlLCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhc3RPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0VSUk9SXSBjYW5ub3QgY3JlYXRlIFZBU1RPYmplY3Q6IFwiICsgZSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJzZVZhc3RYTUwoc291cmNlVmFzdCkge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgIGxldCB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHNvdXJjZVZhc3QsIFwiYXBwbGljYXRpb24veG1sXCIpO1xuICAgICAgICBsZXQgcGFyc2VyRXJyb3IgPSB4bWxEb2MucXVlcnlTZWxlY3RvcihcInBhcnNlcmVycm9yXCIpO1xuICAgICAgICBpZiAocGFyc2VyRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYXJzZXJFcnJvci50ZXh0Q29udGVudCB8fCBcInBhcnNlIHZhc3QgZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhc3RFbGUgPSB4bWxEb2MucXVlcnlTZWxlY3RvcihcIlZBU1RcIik7XG4gICAgICAgIGlmICghdmFzdEVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVkFTVCB0YWcgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXN0RWxlO1xuICAgIH1cbiAgICB1cGRhdGVXcmFwcGVyVmFzdE9iamVjdCh2YXN0T2JqZWN0LCB2RWxlLCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgICAgIGxldCBlcnJvclVybHMgPSBbXTtcbiAgICAgICAgY29uc3Qgcm9vdEVycm9yRWxlID0gdkVsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkVycm9yXCIpO1xuICAgICAgICBpZiAocm9vdEVycm9yRWxlICYmIHJvb3RFcnJvckVsZS50ZXh0Q29udGVudClcbiAgICAgICAgICAgIGVycm9yVXJscy5wdXNoKHJvb3RFcnJvckVsZS50ZXh0Q29udGVudCk7XG4gICAgICAgIGNvbnN0IHdyYXBwZXJFbGUgPSB2RWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+QWQ+V3JhcHBlclwiKTtcbiAgICAgICAgaWYgKCF3cmFwcGVyRWxlKSB7XG4gICAgICAgICAgICBzZW5kRXJyb3IoZXJyb3JVcmxzLCBFcnJvckNvZGUuTm9WQVNUUmVzcG9uc2VBZnRlcldyYXBwZXIsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgV3JhcHBlciBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvckVsZSA9IHdyYXBwZXJFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5FcnJvclwiKTtcbiAgICAgICAgaWYgKGVycm9yRWxlICYmIGVycm9yRWxlLnRleHRDb250ZW50KVxuICAgICAgICAgICAgZXJyb3JVcmxzLnB1c2goZXJyb3JFbGUudGV4dENvbnRlbnQpO1xuICAgICAgICBjb25zdCBpbXBFbGUgPSB3cmFwcGVyRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+SW1wcmVzc2lvblwiKTtcbiAgICAgICAgaWYgKCFpbXBFbGUgfHwgIWltcEVsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgc2VuZEVycm9yKGVycm9yVXJscywgRXJyb3JDb2RlLlhNTFBhcnNlRXJyb3IsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgV3JhcHBlciBJbXByZXNzaW9uIGVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGltcHJlc3Npb25VcmwgPSBpbXBFbGUudGV4dENvbnRlbnQ7XG4gICAgICAgIGNvbnN0IGxpbmVhckVsZSA9IHdyYXBwZXJFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5DcmVhdGl2ZXM+Q3JlYXRpdmU+TGluZWFyXCIpO1xuICAgICAgICBpZiAoIWxpbmVhckVsZSkge1xuICAgICAgICAgICAgdmFzdE9iamVjdC5lcnJvclVybHMgPSB2YXN0T2JqZWN0LmVycm9yVXJscy5jb25jYXQoZXJyb3JVcmxzKTtcbiAgICAgICAgICAgIHZhc3RPYmplY3QuaW1wcmVzc2lvblVybHMucHVzaChpbXByZXNzaW9uVXJsKTtcbiAgICAgICAgICAgIHJldHVybiB2YXN0T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uRWxlID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+RHVyYXRpb25cIik7XG4gICAgICAgIGlmICghZHVyYXRpb25FbGUgfHwgIWR1cmF0aW9uRWxlLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICBzZW5kRXJyb3IoZXJyb3JVcmxzLCBFcnJvckNvZGUuWE1MUGFyc2VFcnJvciwgbWFjcm9SZXBsYWNlcik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBXcmFwcGVyIExpbmVhciBEdXJhdGlvbiBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGNvbnZlcnRUaW1lVG9TZWNvbmQoZHVyYXRpb25FbGUudGV4dENvbnRlbnQpO1xuICAgICAgICBjb25zdCB0cmFja2luZ3NFbGVzID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+VHJhY2tpbmdFdmVudHM+VHJhY2tpbmdcIik7XG4gICAgICAgIGNvbnN0IHRyYWNraW5nTWFwID0gdGhpcy5jcmVhdGVUcmFja2luZ09iamVjdCh0cmFja2luZ3NFbGVzLCBkdXJhdGlvbik7XG4gICAgICAgIGNvbnN0IGljb25FbGVzID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+SWNvbnM+SWNvblwiKTtcbiAgICAgICAgY29uc3QgaWNvbnMgPSBjcmVhdGVJY29ucyhpY29uRWxlcyk7XG4gICAgICAgIGNvbnN0IHZpZGVvQ2xpY2tzRWxlID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+VmlkZW9DbGlja3NcIik7XG4gICAgICAgIGxldCBjbGlja1Rocm91Z2ggPSBudWxsO1xuICAgICAgICBsZXQgY2xpY2tUcmFja2luZyA9IFtdO1xuICAgICAgICBpZiAodmlkZW9DbGlja3NFbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrVGhyb3VnaEVsZSA9IHZpZGVvQ2xpY2tzRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+Q2xpY2tUaHJvdWdoXCIpO1xuICAgICAgICAgICAgaWYgKGNsaWNrVGhyb3VnaEVsZSAmJiBjbGlja1Rocm91Z2hFbGUudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBjbGlja1Rocm91Z2ggPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNsaWNrVGhyb3VnaEVsZS50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjbGlja1RyYWNraW5nRWxlcyA9IHZpZGVvQ2xpY2tzRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+Q2xpY2tUcmFja2luZ1wiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGNsaWNrVHJhY2tpbmdFbGUgb2YgY2xpY2tUcmFja2luZ0VsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xpY2tUcmFja2luZ0VsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjbGlja1RyYWNraW5nLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogY2xpY2tUcmFja2luZ0VsZS50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFzdE9iamVjdC5lcnJvclVybHMgPSB2YXN0T2JqZWN0LmVycm9yVXJscy5jb25jYXQoZXJyb3JVcmxzKTtcbiAgICAgICAgdmFzdE9iamVjdC5pbXByZXNzaW9uVXJscy5wdXNoKGltcHJlc3Npb25VcmwpO1xuICAgICAgICB2YXN0T2JqZWN0LmNyZWF0aXZlcy5wdXNoKHtcbiAgICAgICAgICAgIGxpbmVhcjoge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBtZWRpYUZpbGVzOiBbXSxcbiAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50czogdHJhY2tpbmdNYXAsXG4gICAgICAgICAgICAgICAgY2xpY2tUaHJvdWdoOiBjbGlja1Rocm91Z2gsXG4gICAgICAgICAgICAgICAgY2xpY2tUcmFja2luZ3M6IGNsaWNrVHJhY2tpbmcsXG4gICAgICAgICAgICAgICAgaWNvbnM6IGljb25zXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFzdE9iamVjdDtcbiAgICB9XG4gICAgdXBkYXRlSW5saW5lVmFzdE9iamVjdCh2YXN0T2JqZWN0LCB2RWxlLCBtYWNyb1JlcGxhY2VyKSB7XG4gICAgICAgIGxldCBlcnJvclVybHMgPSBbXTtcbiAgICAgICAgY29uc3Qgcm9vdEVycm9yRWxlID0gdkVsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkVycm9yXCIpO1xuICAgICAgICBpZiAocm9vdEVycm9yRWxlICYmIHJvb3RFcnJvckVsZS50ZXh0Q29udGVudClcbiAgICAgICAgICAgIGVycm9yVXJscy5wdXNoKHJvb3RFcnJvckVsZS50ZXh0Q29udGVudCk7XG4gICAgICAgIGNvbnN0IGlubGluZUVsZSA9IHZFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5BZD5JbkxpbmVcIik7XG4gICAgICAgIGlmICghaW5saW5lRWxlKSB7XG4gICAgICAgICAgICBzZW5kRXJyb3IoZXJyb3JVcmxzLCBFcnJvckNvZGUuTm9WQVNUUmVzcG9uc2VBZnRlcldyYXBwZXIsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgSW5MaW5lIGVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yRWxlID0gaW5saW5lRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+RXJyb3JcIik7XG4gICAgICAgIGlmIChlcnJvckVsZSAmJiBlcnJvckVsZS50ZXh0Q29udGVudClcbiAgICAgICAgICAgIGVycm9yVXJscy5wdXNoKGVycm9yRWxlLnRleHRDb250ZW50KTtcbiAgICAgICAgY29uc3QgaW1wRWxlID0gaW5saW5lRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+SW1wcmVzc2lvblwiKTtcbiAgICAgICAgaWYgKCFpbXBFbGUgfHwgIWltcEVsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgc2VuZEVycm9yKGVycm9yVXJscywgRXJyb3JDb2RlLlhNTFBhcnNlRXJyb3IsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgSW5MaW5lIEltcHJlc3Npb24gZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1wcmVzc2lvblVybCA9IGltcEVsZS50ZXh0Q29udGVudDtcbiAgICAgICAgY29uc3QgYWRUaXRsZUVsZSA9IGlubGluZUVsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkFkVGl0bGVcIik7XG4gICAgICAgIGlmICghYWRUaXRsZUVsZSB8fCAhYWRUaXRsZUVsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgc2VuZEVycm9yKGVycm9yVXJscywgRXJyb3JDb2RlLlhNTFBhcnNlRXJyb3IsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgSW5MaW5lIEFkVGl0bGUgZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWRUaXRsZSA9IGFkVGl0bGVFbGUudGV4dENvbnRlbnQ7XG4gICAgICAgIGxldCBhZERlc2MgPSBudWxsO1xuICAgICAgICBjb25zdCBhZERlc2NFbGUgPSBpbmxpbmVFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5EZXNjcmlwdGlvblwiKTtcbiAgICAgICAgaWYgKGFkRGVzY0VsZSAmJiBhZERlc2NFbGUudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIGFkRGVzYyA9IGFkRGVzY0VsZS50ZXh0Q29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lYXJFbGUgPSBpbmxpbmVFbGUucXVlcnlTZWxlY3RvcihcIjpzY29wZT5DcmVhdGl2ZXM+Q3JlYXRpdmU+TGluZWFyXCIpO1xuICAgICAgICBpZiAoIWxpbmVhckVsZSkge1xuICAgICAgICAgICAgc2VuZEVycm9yKGVycm9yVXJscywgRXJyb3JDb2RlLlhNTFBhcnNlRXJyb3IsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgSW5MaW5lIExpbmVhciBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXJhdGlvbkVsZSA9IGxpbmVhckVsZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlPkR1cmF0aW9uXCIpO1xuICAgICAgICBpZiAoIWR1cmF0aW9uRWxlIHx8ICFkdXJhdGlvbkVsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgc2VuZEVycm9yKGVycm9yVXJscywgRXJyb3JDb2RlLlhNTFBhcnNlRXJyb3IsIG1hY3JvUmVwbGFjZXIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFyc2UgSW5MaW5lIExpbmVhciBEdXJhdGlvbiBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGNvbnZlcnRUaW1lVG9TZWNvbmQoZHVyYXRpb25FbGUudGV4dENvbnRlbnQpO1xuICAgICAgICBjb25zdCB0cmFja2luZ3NFbGVzID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+VHJhY2tpbmdFdmVudHM+VHJhY2tpbmdcIik7XG4gICAgICAgIGNvbnN0IHRyYWNraW5nTWFwID0gdGhpcy5jcmVhdGVUcmFja2luZ09iamVjdCh0cmFja2luZ3NFbGVzLCBkdXJhdGlvbik7XG4gICAgICAgIGNvbnN0IGljb25FbGVzID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+SWNvbnM+SWNvblwiKTtcbiAgICAgICAgY29uc3QgaWNvbnMgPSBjcmVhdGVJY29ucyhpY29uRWxlcyk7XG4gICAgICAgIGNvbnN0IG1lZGlhRmlsZUVsZXMgPSBsaW5lYXJFbGUucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZT5NZWRpYUZpbGVzPk1lZGlhRmlsZVwiKTtcbiAgICAgICAgaWYgKCFtZWRpYUZpbGVFbGVzKSB7XG4gICAgICAgICAgICBzZW5kRXJyb3IoZXJyb3JVcmxzLCBFcnJvckNvZGUuWE1MUGFyc2VFcnJvciwgbWFjcm9SZXBsYWNlcik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBNZWRpYUZpbGVzIGVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIOOBsuOBqOOBvuOBmjHjgaTnm67jga5NZWRpYUZpbGXjga5VUkzjga7jgb/lj5blvpdcbiAgICAgICAgY29uc3QgbWVkaWFGaWxlVXJsID0gbWVkaWFGaWxlRWxlc1swXT8udGV4dENvbnRlbnQ7XG4gICAgICAgIGNvbnN0IHZpZGVvQ2xpY2tzRWxlID0gbGluZWFyRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+VmlkZW9DbGlja3NcIik7XG4gICAgICAgIGxldCBjbGlja1Rocm91Z2ggPSBudWxsO1xuICAgICAgICBsZXQgY2xpY2tUcmFja2luZyA9IFtdO1xuICAgICAgICBpZiAodmlkZW9DbGlja3NFbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaWNrVGhyb3VnaEVsZSA9IHZpZGVvQ2xpY2tzRWxlLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGU+Q2xpY2tUaHJvdWdoXCIpO1xuICAgICAgICAgICAgaWYgKCFjbGlja1Rocm91Z2hFbGUgfHwgIWNsaWNrVGhyb3VnaEVsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgIHNlbmRFcnJvcihlcnJvclVybHMsIEVycm9yQ29kZS5YTUxQYXJzZUVycm9yLCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBJbkxpbmUgTGluZWFyIENsaWNrVGhyb3VnaCBlcnJvclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsaWNrVGhyb3VnaCA9IHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiBjbGlja1Rocm91Z2hFbGUudGV4dENvbnRlbnRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjbGlja1RyYWNraW5nRWxlcyA9IHZpZGVvQ2xpY2tzRWxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGU+Q2xpY2tUcmFja2luZ1wiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGNsaWNrVHJhY2tpbmdFbGUgb2YgY2xpY2tUcmFja2luZ0VsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xpY2tUcmFja2luZ0VsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjbGlja1RyYWNraW5nLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogY2xpY2tUcmFja2luZ0VsZS50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFzdE9iamVjdC5lcnJvclVybHMgPSB2YXN0T2JqZWN0LmVycm9yVXJscy5jb25jYXQoZXJyb3JVcmxzKTtcbiAgICAgICAgdmFzdE9iamVjdC5pbXByZXNzaW9uVXJscy5wdXNoKGltcHJlc3Npb25VcmwpO1xuICAgICAgICB2YXN0T2JqZWN0LmFkVGl0bGUgPSBhZFRpdGxlO1xuICAgICAgICB2YXN0T2JqZWN0LmFkRGVzYyA9IGFkRGVzYztcbiAgICAgICAgdmFzdE9iamVjdC5jcmVhdGl2ZXMucHVzaCh7XG4gICAgICAgICAgICBsaW5lYXI6IHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgbWVkaWFGaWxlczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBtZWRpYUZpbGVVcmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudHM6IHRyYWNraW5nTWFwLFxuICAgICAgICAgICAgICAgIGNsaWNrVGhyb3VnaDogY2xpY2tUaHJvdWdoLFxuICAgICAgICAgICAgICAgIGNsaWNrVHJhY2tpbmdzOiBjbGlja1RyYWNraW5nLFxuICAgICAgICAgICAgICAgIGljb25zOiBpY29uc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhc3RPYmplY3Q7XG4gICAgfVxuICAgIGNyZWF0ZVRyYWNraW5nT2JqZWN0KHRyYWNraW5nRWxlcywgZHVyYXRpb24pIHtcbiAgICAgICAgY29uc3QgdHJhY2tpbmdNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRyYWNraW5nRWxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFja2luZykge1xuICAgICAgICAgICAgaWYgKCF0cmFja2luZy50ZXh0Q29udGVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRyYWNraW5nLmdldEF0dHJpYnV0ZShcImV2ZW50XCIpO1xuICAgICAgICAgICAgaWYgKCFldmVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IFwicHJvZ3Jlc3NcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHRyYWNraW5nLmdldEF0dHJpYnV0ZShcIm9mZnNldFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9mZnNldClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldFNlY29uZCA9IGNvbnZlcnRUaW1lVG9TZWNvbmQob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0cmFja2luZ01hcC5zZXQob2Zmc2V0U2Vjb25kLCB0cmFja2luZy50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudF9wb2ludCA9IFRSQUNLSU5HX0VWRU5UX1BPSU5ULmdldChldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50X3BvaW50ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ01hcC5zZXQoZXZlbnRfcG9pbnQgKiBkdXJhdGlvbiwgdHJhY2tpbmcudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdNYXAuc2V0KGV2ZW50LCB0cmFja2luZy50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRyYWNraW5nTWFwO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCB2YXN0ID0gbmV3IFZhc3QoKTtcbiIsImltcG9ydCAqIGFzIGxpYiBmcm9tIFwiLi4vbGliL2luZGV4XCI7XG5jb25zdCBjb250YWluZXIgPSBgXG48IURPQ1RZUEUgaHRtbD5cbjxodG1sPlxuICAgIDxoZWFkPlxuICAgIDwvaGVhZD5cbiAgICA8Ym9keSBzdHlsZT1cIm1hcmdpbjowO1wiPlxuICAgICAgICA8ZGl2IGlkPVwidmFzdF92aWRlb19jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ2YXN0X3ZpZGVvXCIgc3R5bGU9XCJ3aWR0aDozMDBweDtoZWlnaHQ6MTY4Ljc1cHg7XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGlkPVwicHJvZ3Jlc3NfYmFyXCIgc3R5bGU9XCJ3aWR0aDo1MCU7aGVpZ2h0OjNweDtiYWNrZ3JvdW5kLWNvbG9yOmdyYXk7XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiYWRfdGV4dFwiIHN0eWxlPVwibWFyZ2luOjA7d2lkdGg6MzAwcHg7aGVpZ2h0Ojc4LjI1cHg7YmFja2dyb3VuZC1jb2xvcjojZGNkY2RjO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJhZF90aXRsZVwiIHN0eWxlPVwiZm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6Ym9sZDtcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiYWRfZGVzY1wiIHN0eWxlPVwiZm9udC1zaXplOjEwcHg7XCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9ib2R5PlxuPC9odG1sPlxuYDtcbmNvbnN0IGlubGluZVZhc3RTYW1wbGUgPSBgXG48VkFTVCB2ZXJzaW9uPVwiNC4yXCI+XG4gIDxFcnJvcj5cbiAgICA8IVtDREFUQVtodHRwOi8vdGVzdC5leGFtcGxlL2Vycm9yP2NvZGU9W0VSUk9SQ09ERV0mY2xpZW50VGltZT1bVElNRVNUQU1QXV1dPlxuICA8L0Vycm9yPlxuICA8QWQgaWQ9XCIxYjMzMGU1OS0zYTYyLTQwMDAtYjlmYi1hYzk3MjZlOThjNTJcIiBzZXF1ZW5jZT1cIjFcIj5cbiAgICA8V3JhcHBlcj5cbiAgICAgIDxJbXByZXNzaW9uPjwhW0NEQVRBW2h0dHBzOi8vd3JhcHBlci50ZXN0LmV4YW1wbGUvaW1wcmVzc2lvbj9jbGllbnRUaW1lPVtUSU1FU1RBTVBdJmludmlld19yYXRpbz1bSU5WSUVXX1JBVElPXV1dPjwvSW1wcmVzc2lvbj5cbiAgICAgIDxWQVNUQWRUYWdVUkk+XG4gICAgICAgIDwhW0NEQVRBW2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9zYW1wbGUvaW5saW5lLmh0bWxdXT5cbiAgICAgIDwvVkFTVEFkVGFnVVJJPlxuICAgICAgPENyZWF0aXZlcz5cbiAgICAgICAgPENyZWF0aXZlIGFkSWQ9XCI3MjQ1XCIgc2VxdWVuY2U9XCIxXCI+XG4gICAgICAgICAgPExpbmVhcj5cbiAgICAgICAgICAgIDxEdXJhdGlvbj4wMDowMDoxNC4wMTQ8L0R1cmF0aW9uPlxuICAgICAgICAgICAgPFRyYWNraW5nRXZlbnRzPlxuICAgICAgICAgICAgICA8VHJhY2tpbmcgZXZlbnQ9XCJzdGFydFwiPjwhW0NEQVRBW2h0dHBzOi8vd3JhcHBlci50ZXN0LmV4YW1wbGUvc3RhcnQ/Y2xpZW50VGltZT1bVElNRVNUQU1QXSZpbnZpZXdfcmF0aW89W0lOVklFV19SQVRJT11dXT48L1RyYWNraW5nPlxuICAgICAgICAgICAgICA8VHJhY2tpbmcgZXZlbnQ9XCJmaXJzdFF1YXJ0aWxlXCI+PCFbQ0RBVEFbaHR0cHM6Ly93cmFwcGVyLnRlc3QuZXhhbXBsZS9maXJzdFF1YXJ0aWxlP2NsaWVudFRpbWU9W1RJTUVTVEFNUF0maW52aWV3X3JhdGlvPVtJTlZJRVdfUkFUSU9dXV0+PC9UcmFja2luZz5cbiAgICAgICAgICAgICAgPFRyYWNraW5nIGV2ZW50PVwiY29tcGxldGVcIj48IVtDREFUQVtodHRwczovL3dyYXBwZXIudGVzdC5leGFtcGxlL2NvbXBsZXRlP2NsaWVudFRpbWU9W1RJTUVTVEFNUF0maW52aWV3X3JhdGlvPVtJTlZJRVdfUkFUSU9dXV0+PC9UcmFja2luZz5cbiAgICAgICAgICAgIDwvVHJhY2tpbmdFdmVudHM+XG4gICAgICAgICAgPC9MaW5lYXI+XG4gICAgICAgIDwvQ3JlYXRpdmU+XG4gICAgICA8L0NyZWF0aXZlcz5cbiAgICA8L1dyYXBwZXI+XG4gIDwvQWQ+XG48L1ZBU1Q+XG5gO1xuY2xhc3MgVmFzdEV4ZWN1dG9yIHtcbiAgICBhc3luYyBzdGFydFBsYXllcihzb3VyY2VWYXN0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic2V0UGxheWVyIHN0YXJ0ZWQuLi5cIik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgICAgIGlmcmFtZS53aWR0aCA9IFwiMzAwcHhcIjtcbiAgICAgICAgICAgIGlmcmFtZS5oZWlnaHQgPSBcIjI1MHB4XCI7XG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuYm9yZGVyID0gXCJub25lXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllcmJveFwiKT8uYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgICAgIGxldCBpRG9jID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgICAgICBpRG9jLm9wZW4oKTtcbiAgICAgICAgICAgIGlEb2Mud3JpdGUoY29udGFpbmVyKTtcbiAgICAgICAgICAgIGlEb2MuY2xvc2UoKTtcbiAgICAgICAgICAgIGlEb2MuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIGxldCB2YXN0VmlkZW9EaXYgPSBpRG9jLmdldEVsZW1lbnRCeUlkKFwidmFzdF92aWRlb1wiKTtcbiAgICAgICAgICAgIGNvbnN0IG1hY3JvUmVwbGFjZXIgPSBsaWIuY3JlYXRlUmVwbGFjZXIodmFzdFZpZGVvRGl2KTtcbiAgICAgICAgICAgIHNvdXJjZVZhc3QgPSBpbmxpbmVWYXN0U2FtcGxlO1xuICAgICAgICAgICAgY29uc3QgdmFzdE9iamVjdCA9IGF3YWl0IGxpYi52YXN0LnBhcnNlVmFzdChzb3VyY2VWYXN0LCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgIGlmICghdmFzdE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBhZFRpdGxlRGl2ID0gaURvYy5nZXRFbGVtZW50QnlJZChcImFkX3RpdGxlXCIpO1xuICAgICAgICAgICAgYWRUaXRsZURpdi50ZXh0Q29udGVudCA9IHZhc3RPYmplY3QuYWRUaXRsZTtcbiAgICAgICAgICAgIGxldCBhZERlc2NEaXYgPSBpRG9jLmdldEVsZW1lbnRCeUlkKFwiYWRfZGVzY1wiKTtcbiAgICAgICAgICAgIGlmICh2YXN0T2JqZWN0LmFkRGVzYykge1xuICAgICAgICAgICAgICAgIGFkRGVzY0Rpdi50ZXh0Q29udGVudCA9IHZhc3RPYmplY3QuYWREZXNjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xuICAgICAgICAgICAgZm9yIChsZXQgY3JlYXRpdmUgb2YgdmFzdE9iamVjdC5jcmVhdGl2ZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBtZWRpYUZpbGUgb2YgY3JlYXRpdmUubGluZWFyLm1lZGlhRmlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zcmMgPSBtZWRpYUZpbGUuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lZGlhVHlwZSA9IGxpYi5nZXRNZWRpYVR5cGUobWVkaWFGaWxlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVkaWFUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UudHlwZSA9IG1lZGlhVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2aWRlby5hcHBlbmRDaGlsZChzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vdmlkZW8uc3JjID0gdmFzdE9iamVjdC5tZWRpYUZpbGVVcmw7XG4gICAgICAgICAgICB2aWRlby5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgdmlkZW8uc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgICAgICB2aWRlby5tdXRlZCA9IHRydWU7XG4gICAgICAgICAgICB2aWRlby5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgICAgICAvLyBsb2FkZWRtZXRhZGF0YeOCpOODmeODs+ODiOW+jOOBp+OBquOBhOOBqGR1cmF0aW9u44GM5Y+W44KM44Gq44GEXG4gICAgICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvZ3Jlc3NiYXIgPSBpRG9jLmdldEVsZW1lbnRCeUlkKFwicHJvZ3Jlc3NfYmFyXCIpO1xuICAgICAgICAgICAgICAgIGxldCBiYXJBbmltYXRpb25Mb29wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZ3Jlc3NQb2ludCA9IHZpZGVvLmN1cnJlbnRUaW1lIC8gdmlkZW8uZHVyYXRpb24gKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzYmFyLnN0eWxlLndpZHRoID0gcHJvZ3Jlc3NQb2ludCArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYmFyQW5pbWF0aW9uTG9vcCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYmFyQW5pbWF0aW9uTG9vcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxpYi5zZXRCZWFjb25zKHZpZGVvLCB2YXN0T2JqZWN0LCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgIGxpYi5zZXRJY29ucyh2aWRlbywgdmFzdFZpZGVvRGl2LCB2YXN0T2JqZWN0LCBtYWNyb1JlcGxhY2VyKTtcbiAgICAgICAgICAgIHZhc3RWaWRlb0Rpdi5hcHBlbmRDaGlsZCh2aWRlbyk7XG4gICAgICAgICAgICAvLyBJbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgICAgICAgICAgLy8gNTAl55S76Z2i5YaF44Gr5YWl44Gj44Gf44KJ5YaN55Sf44CB5Ye644Gf44KJ5YGc5q2iXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHJvb3RNYXJnaW46IFwiMHB4XCIsXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAwLjVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodmlkZW8pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNhbm5vdCBzdGFydCBQbGF5ZXI6IFwiICsgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCB2YXN0RXhlY3V0b3IgPSBuZXcgVmFzdEV4ZWN1dG9yKCk7XG53aW5kb3cudmFzdEV4ZWN1dG9yID0gd2luZG93LnZhc3RFeGVjdXRvciB8fCB2YXN0RXhlY3V0b3I7XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0TWVkaWFUeXBlKHVybCkge1xuICAgIGlmICgvXFwubXA0JC8udGVzdCh1cmwpKSB7XG4gICAgICAgIHJldHVybiBcInZpZGVvL21wNFwiO1xuICAgIH1cbiAgICBlbHNlIGlmICgvXFwubW92JC8udGVzdCh1cmwpKSB7XG4gICAgICAgIHJldHVybiBcInZpZGVvL3F1aWNrdGltZVwiO1xuICAgIH1cbiAgICBlbHNlIGlmICgvXFwubXBnJC8udGVzdCh1cmwpIHx8IC9cXC5tcGVnJC8udGVzdCh1cmwpKSB7XG4gICAgICAgIHJldHVybiBcInZpZGVvL21wZWdcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoL1xcLndlYm0kLy50ZXN0KHVybCkpIHtcbiAgICAgICAgcmV0dXJuIFwidmlkZW8vd2VibVwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUJlYWNvbiIsInBhcmVudCIsInVybCIsIm1hY3JvUmVwbGFjZXIiLCJEYXRlIiwiZWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwic3R5bGUiLCJkaXNwbGF5IiwicHJlcGVuZCIsImNvbnNvbGUiLCJsb2ciLCJzZW5kRXJyb3IiLCJ1cmxzIiwiZXJyb3JDb2RlIiwicmVwbGFjZSIsInRvU3RyaW5nIiwiYm9keSIsImNvbnZlcnRUaW1lVG9TZWNvbmQiLCJkdXJhdGlvblN0ciIsInJlc3VsdCIsIm1hdGNoIiwibGVuZ3RoIiwiaXNOYU4iLCJwYXJzZUludCIsIkVycm9yIiwicGFyc2VGbG9hdCIsImNyZWF0ZUljb25zIiwiaWNvbkVsZXMiLCJpY29uT2JqZWN0cyIsImljb24iLCJpY29uRWxlIiwid2lkdGgiLCJnZXRBdHRyaWJ1dGUiLCJoZWlnaHQiLCJ4IiwieFBvc2l0aW9uIiwieSIsInlQb3NpdGlvbiIsIm9mZnNldCIsInN0YXJ0IiwiZHVyYXRpb24iLCJlbmQiLCJzdGF0aWNSZXNvdXJjZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImljb25DbGlja1Rocm91Z2giLCJpY29uQ2xpY2tUcmFja2luZyIsInB1c2giLCJpbWdVcmwiLCJjbGlja1Rocm91Z2hVcmwiLCJjbGlja1RyYWNraW5nVXJsIiwiRXJyb3JDb2RlIiwiVFJBQ0tJTkdfRVZFTlRfUE9JTlQiLCJNYXAiLCJ2YXN0IiwiY29uc3RydWN0b3IiLCJpc1dyYXBwZXIiLCJ2RWxlIiwiYXN5bmMiLCJ2YXN0QWRUYWdVUklFbGUiLCJyZXMiLCJmZXRjaCIsInRleHQiLCJzb3VyY2VWYXN0IiwidmFzdE9iamVjdCIsImVycm9yVXJscyIsImltcHJlc3Npb25VcmxzIiwiYWRUaXRsZSIsImFkRGVzYyIsImNyZWF0aXZlcyIsImkiLCJ2YXN0RWxlIiwidGhpcyIsInBhcnNlVmFzdFhNTCIsInVwZGF0ZUlubGluZVZhc3RPYmplY3QiLCJ1cGRhdGVXcmFwcGVyVmFzdE9iamVjdCIsIm5leHRWYXN0IiwiZSIsInhtbERvYyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsInBhcnNlckVycm9yIiwicm9vdEVycm9yRWxlIiwid3JhcHBlckVsZSIsIk5vVkFTVFJlc3BvbnNlQWZ0ZXJXcmFwcGVyIiwiZXJyb3JFbGUiLCJpbXBFbGUiLCJYTUxQYXJzZUVycm9yIiwiaW1wcmVzc2lvblVybCIsImxpbmVhckVsZSIsImNvbmNhdCIsImR1cmF0aW9uRWxlIiwidHJhY2tpbmdzRWxlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0cmFja2luZ01hcCIsImNyZWF0ZVRyYWNraW5nT2JqZWN0IiwiaWNvbnMiLCJ2aWRlb0NsaWNrc0VsZSIsImNsaWNrVGhyb3VnaCIsImNsaWNrVHJhY2tpbmciLCJjbGlja1Rocm91Z2hFbGUiLCJjb250ZW50IiwiY2xpY2tUcmFja2luZ0VsZXMiLCJjbGlja1RyYWNraW5nRWxlIiwibGluZWFyIiwibWVkaWFGaWxlcyIsInRyYWNraW5nRXZlbnRzIiwiY2xpY2tUcmFja2luZ3MiLCJpbmxpbmVFbGUiLCJhZFRpdGxlRWxlIiwiYWREZXNjRWxlIiwibWVkaWFGaWxlRWxlcyIsIm1lZGlhRmlsZVVybCIsInRyYWNraW5nRWxlcyIsImZvckVhY2giLCJ0cmFja2luZyIsImV2ZW50Iiwib2Zmc2V0U2Vjb25kIiwic2V0IiwiZXZlbnRfcG9pbnQiLCJnZXQiLCJ1bmRlZmluZWQiLCJ2YXN0RXhlY3V0b3IiLCJpZnJhbWUiLCJib3JkZXIiLCJnZXRFbGVtZW50QnlJZCIsImFwcGVuZENoaWxkIiwiaURvYyIsImNvbnRlbnRXaW5kb3ciLCJvcGVuIiwid3JpdGUiLCJjbG9zZSIsImRvY3VtZW50RWxlbWVudCIsIm92ZXJmbG93IiwidmFzdFZpZGVvRGl2IiwidmlkZW9QYXJlbnQiLCJyZXBsYWNlTWFwIiwidG9JU09TdHJpbmciLCJpbnZpZXdSYXRpb01nciIsInJhdGlvIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZW50cnkiLCJNYXRoIiwiZmxvb3IiLCJpbnRlcnNlY3Rpb25SYXRpbyIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwidG9GaXhlZCIsImdldEludmlld1JhdGlvIiwidGFyZ2V0IiwidmFsdWUiLCJrZXkiLCJhZERlc2NEaXYiLCJ2aWRlbyIsImNyZWF0aXZlIiwibWVkaWFGaWxlIiwic291cmNlIiwibWVkaWFUeXBlIiwidGVzdCIsInR5cGUiLCJjYWxsYmFjayIsImlzSW50ZXJzZWN0aW5nIiwicGxheSIsInBhdXNlIiwibXV0ZWQiLCJhdXRvcGxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9ncmVzc2JhciIsImJhckFuaW1hdGlvbkxvb3AiLCJwcm9ncmVzc1BvaW50IiwiY3VycmVudFRpbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbmNlIiwic2V0SW1wcmVzc2lvblVybCIsInNldFZpZGVvQ2xpY2tUaHJvdWdoVXJsIiwic2V0VmlkZW9DbGlja1RyYWNraW5nVXJscyIsInBvaW50IiwidGltZUJlYWNvbkV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldFRyYWNraW5nVXJscyIsImljb25QYXJlbnQiLCJpY29uT2JqIiwicG9zaXRpb24iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJ0aW1lSWNvbkV2ZW50IiwiY29udGFpbnMiLCJyZW1vdmVDaGlsZCIsIndpbmRvdyJdLCJzb3VyY2VSb290IjoiIn0=